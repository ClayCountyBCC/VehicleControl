{"version":3,"sources":["Store.tsx","nav.tsx","Utilities.ts","AVLData.ts","ErrorInformation.tsx","AVLUnitOptions.tsx","AVL.tsx","AVLList.tsx","App.tsx","index.tsx"],"names":["initialState","avl_data","fleetcomplete_data","cad_data","unit_data","filtered_avl_data","filtered_fleetcomplete_data","filtered_cad_data","filtered_unit_data","avl_data_filter","fleetcomplete_data_filter","cad_data_filter","unit_data_filter","avl_data_sort_field","fleetcomplete_data_sort_field","cad_data_sort_field","unit_data_sort_field","avl_data_sort_ascending","fleetcomplete_data_sort_ascending","cad_data_sort_ascending","unit_data_sort_ascending","avl_data_special_filter","fleetcomplete_data_special_filter","cad_data_special_filter","unit_data_special_filter","Store","React","createContext","reducer","state","action","type","payload","process_avl","filtered","sort","showError","map","a","device_id","show_errors","showUO","show_unit_options","array","field","ascending","indexOf","b","Date","sort_dates","filter","specialFilter","length","d","error_information","has_date_error","has_location_error","has_unit_error","special_filter","arrayToFilter","filterUsing","f","toLowerCase","j","unitcode","filter_avl","Nav","className","role","aria-label","Get","url","async","fetch","method","headers","cache","credentials","response","ok","Error","statusText","json","Format_DateTime","date","toLocaleString","AVLData","device_type","direction","location_timestamp","satellite_count","velocity","latitude","longitude","updated_on","data","ErrorInformation","props","colSpan","colspan","errorText","index","key","AVLUnitOptions","placeholder","AVL","dispatch","useContext","onClick","event","new_unitcode","AVLList","style","padding","marginBottom","onKeyDown","preventDefault","stopPropagation","target","value","href","avl","App","useEffect","fetchAVLData","paddingRight","paddingLeft","ReactDOM","render","useReducer","Provider","children","document","getElementById"],"mappings":"0KAMMA,EACN,CACEC,SAAU,GACVC,mBAAoB,GACpBC,SAAU,GACVC,UAAW,GAEXC,kBAAmB,GACnBC,4BAA6B,GAC7BC,kBAAmB,GACnBC,mBAAoB,GAEpBC,gBAAiB,GACjBC,0BAA2B,GAC3BC,gBAAiB,GACjBC,iBAAkB,GAElBC,oBAAqB,YACrBC,8BAA+B,GAC/BC,oBAAqB,GACrBC,qBAAsB,GAEtBC,yBAAyB,EACzBC,mCAAmC,EACnCC,yBAAyB,EACzBC,0BAA0B,EAE1BC,wBAAyB,GACzBC,kCAAmC,GACnCC,wBAAyB,GACzBC,yBAA0B,IAGfC,EAAQC,IAAMC,cAA4B3B,GAEvD,SAAS4B,EAAQC,EAAeC,GAE9B,OAAQA,EAAOC,MAEb,IAAK,eACH,OAAO,eACFF,EADL,CAEE5B,SAAU6B,EAAOE,QACjB3B,kBACE4B,EACEH,EAAOE,QACPH,EAAMpB,gBACNoB,EAAMhB,oBACNgB,EAAMZ,wBACNY,EAAMR,2BAGd,IAAK,kBACH,OAAO,eACFQ,EADL,CAEExB,kBACE4B,EACEJ,EAAM5B,SACN6B,EAAOE,QACPH,EAAMhB,oBACNgB,EAAMZ,wBACNY,EAAMR,yBACVZ,gBAAiBqB,EAAOE,UAG5B,IAAK,0BACH,OAAO,eACFH,EADL,CAEExB,kBAAmB4B,EAAYJ,EAAM5B,SAAU4B,EAAMpB,gBAAiBoB,EAAMhB,oBAAqBgB,EAAMZ,wBAAyBa,EAAOE,SACvIX,wBAAyBS,EAAOE,UAGpC,IAAK,gBACH,IAAIE,EAAWC,EAAKN,EAAMxB,kBAAmByB,EAAOE,SAAUH,EAAMZ,yBACpE,OAAO,eACFY,EADL,CAEExB,kBAAmB6B,EACnBrB,oBAAqBiB,EAAOE,QAC5Bf,yBAA0BY,EAAMZ,0BAGpC,IAAK,8BACH,IAAImB,EAAYP,EAAMxB,kBAAkBgC,KAAI,SAAAC,GAM1C,OAJIA,EAAEC,YAAcT,EAAOE,UAEzBM,EAAEE,aAAeF,EAAEE,aAEdF,KAET,OAAO,eACFT,EADL,CAEExB,kBAAmB+B,IAGvB,IAAK,oCACH,IAAIK,EAASZ,EAAMxB,kBAAkBgC,KAAI,SAAAC,GAMvC,OAJIA,EAAEC,YAAcT,EAAOE,UAEzBM,EAAEI,mBAAqBJ,EAAEI,mBAEpBJ,KAGT,OAAO,eACFT,EADL,CAEExB,kBAAmBoC,IAGvB,QACE,OAAOZ,GAuCb,SAASM,EAAKQ,EAAmBC,EAAeC,GAG9C,MADoB,CAAC,aAAc,sBACnBC,QAAQF,IAAU,EAUpC,SAAoBD,EAAmBC,EAAeC,GAQpD,OANaF,EAAMR,MAAK,SAACG,EAAGS,GAE1B,OAAI,IAAIC,KAAKV,EAAEM,IAAU,IAAII,KAAKD,EAAEH,IAAgBC,EAAY,GAAK,EACjE,IAAIG,KAAKD,EAAEH,IAAU,IAAII,KAAKV,EAAEM,IAAgBC,GAAa,EAAI,EAC9D,KAhBmCI,CAAWN,EAAOC,EAAOC,GACxDF,EAAMR,MAAK,SAACG,EAAGS,GAE1B,OAAIT,EAAEM,GAASG,EAAEH,GAAeC,EAAY,GAAK,EAC7CE,EAAEH,GAASN,EAAEM,GAAeC,GAAa,EAAI,EAC1C,KAgBX,SAASZ,EAAYU,EAAmBO,EAAgBN,EAAeC,EAAoBM,GAIzF,OAAOhB,EAnDT,SAAwBQ,EAAmBQ,GAEzC,GAA6B,IAAzBA,EAAcC,OAAc,OAAOT,EACvC,OAAQQ,GAEN,IAAK,QAEH,OADeR,EAAMO,QAAO,SAAAG,GAAC,OAAIA,EAAEC,kBAAkBF,OAAS,KAGhE,IAAK,OACH,OAAOT,EAAMO,QAAO,SAAAG,GAAC,OAAIA,EAAEE,kBAE7B,IAAK,WACH,OAAOZ,EAAMO,QAAO,SAAAG,GAAC,OAAIA,EAAEG,sBAE7B,IAAK,OACH,OAAOb,EAAMO,QAAO,SAAAG,GAAC,OAAIA,EAAEI,kBAE7B,QACE,OAAOd,GA+BYe,CA9DzB,SAAoBC,EAA8BC,GAEhD,GAA2B,IAAvBA,EAAYR,OAAc,OAAOO,EACrC,IAAIE,EAAID,EAAYE,cAMpB,OALeH,EAAcT,QAAO,SAAAa,GAElC,OAAOA,EAAExB,UAAUuB,cAAchB,QAAQe,IAAM,GAC7CE,EAAEC,SAASF,cAAchB,QAAQe,IAAM,KAsD5BI,CAAWtB,EAAOO,GACeC,GAClBP,EAAOC,G,oBCjJxBqB,EArCO,WAEpB,OACE,yBAAKC,UAAU,oBAAoBC,KAAK,aAAaC,aAAW,mBAC9D,yBAAKF,UAAU,gBACb,wBAAIA,UAAU,8CAAd,oBAEF,yBAAKA,UAAU,eACb,yBAAKA,UAAU,gBACb,uBAAGA,UAAU,qCAAb,SAGA,uBAAGA,UAAU,+CAAb,OAGA,uBAAGA,UAAU,qCAAb,kBAGA,uBAAGA,UAAU,qCAAb,QAKF,yBAAKA,UAAU,cACb,uBAAGA,UAAU,eAAb,WAGA,uBAAGA,UAAU,eAAb,c,cCmSD,SAAeG,EAAOC,GAAtB,eAAAjC,EAAAkC,OAAA,kEAAAlC,EAAA,MAEkBmC,MAAMF,EAC3B,CACEG,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,MAAO,WACPC,YAAa,aATZ,WAECC,EAFD,QAYSC,GAZT,sBAcG,IAAIC,MAAMF,EAASG,YAdtB,yBAAA3C,EAAA,MAgBQwC,EAASI,QAhBjB,6EA2EA,SAASC,EAAgBC,GAE9B,OAAIA,aAAgBpC,KAEXoC,EAAKC,eAAe,SAEtB,IAAIrC,KAAKoC,GAAMC,eAAe,SC3XlC,IA2BQC,EA3Bf,iDAES/C,UAAoB,GAF7B,KAGSgD,YAAsB,GAH/B,KAISvB,SAAmB,GAJ5B,KAKSwB,UAAoB,EAL7B,KAMSC,mBAA2B,IAAIzC,KANxC,KAOS0C,gBAA0B,EAPnC,KAQSC,SAAmB,EAR5B,KASSC,SAAmB,EAT5B,KAUSC,UAAoB,EAV7B,KAWSC,WAAmB,IAAI9C,KAXhC,KAYSM,kBAAmC,GAZ5C,KAaSZ,mBAA6B,EAbtC,KAcSF,aAAuB,EAdhC,KAeSe,gBAA0B,EAfnC,KAgBSC,oBAA8B,EAhBvC,KAiBSC,gBAA0B,EAjBnC,yJAqBuBa,EAAoB,gBArB3C,cAqBUyB,EArBV,yBAsBWA,GAtBX,8CCMeC,EAzBU,SAACC,GAExB,OAAKA,EAAMzD,YAGT,4BACE,6BAEA,wBAAI0D,QAASD,EAAME,QAAU,GAC3B,4BACGF,EAAM3C,kBAAkBjB,KACvB,SAAC+D,EAAWC,GAEV,OACE,wBAAIC,IAAKD,GACND,SAbc,MCoClBG,EAtCQ,SAACN,GAEtB,OAAKA,EAAMvD,kBAGT,4BACE,6BAEA,wBAAIyB,UAAU,kBAAd,iBAGA,4BAC6B,IAA1B8B,EAAMjC,SAASZ,OAAe,OAAS6C,EAAMjC,UAEhD,wBAAIG,UAAU,kBAAd,cAGA,wBAAI+B,QAAS,GACX,yBAAK/B,UAAU,oBACb,yBAAKA,UAAU,WACb,2BACEA,UAAU,iBACVpC,KAAK,OACLyE,YAAY,cAEhB,yBAAKrC,UAAU,WACb,4BACEpC,KAAK,SACLoC,UAAU,8BAFZ,YAxB2B,MC8DxBsC,EA5DH,SAACR,GACZ,IACSS,EAAahF,IAAMiF,WAAWlF,GAA9BiF,SAER,OACE,oCACE,4BACE,4BACGT,EAAM1D,WAET,4BACG0D,EAAMV,aAET,4BACE,0BACEpB,UAAU,+BACVyC,QAAS,SAAAC,GAEPH,EAAS,CAAE3E,KAAM,oCAAqCC,QAASiE,EAAM1D,cAG5C,IAA1B0D,EAAMjC,SAASZ,OAAe,MAAQ6C,EAAMjC,WAGjD,4BACGmB,EAAgBc,EAAMH,aAEzB,4BACGX,EAAgBc,EAAMR,qBAEzB,4BACGQ,EAAM3C,kBAAkBF,OAAS,EAChC,0BACEe,UAAU,+BACVyC,QAAS,SAAAC,GAEPH,EAAS,CAAE3E,KAAM,8BAA+BC,QAASiE,EAAM1D,cAJnE,UASE,KAMR,kBAAC,EAAD,eACE4D,QAAS,EACTW,aAAa,IACTb,IACN,kBAAC,EAAD,CACEE,QAAS,EACT7C,kBAAmB2C,EAAM3C,kBACzBd,YAAayD,EAAMzD,gBCwGZuE,EAhKW,WACzB,IAAD,EAC8BrF,IAAMiF,WAAWlF,GAArCI,EADV,EACUA,MAAO6E,EADjB,EACiBA,SAGf,OACE,iCACE,yBACEM,MAAO,CAAEC,QAAS,MAAOC,aAAc,GACvC/C,UAAU,SACV,yBAAKA,UAAU,cACb,yBAAKA,UAAU,6CAAf,OAGA,yBAAKA,UAAU,cACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,WACb,2BACEpC,KAAK,OACLyE,YAAY,SACZW,UAAW,SAAAN,GAES,UAAdA,EAAMP,MAERO,EAAMO,iBACNP,EAAMQ,kBACNX,EAAS,CACP3E,KAAM,kBACNC,QAAU6E,EAAMS,OAA4BC,gBAS5D,yBAAKpD,UAAU,eACb,uBAAGA,UAAU,mCAAb,iBACA,yBAAKA,UAAU,mBACb,4BACE,wBAAIA,UAAS,UAAuC,KAAlCtC,EAAMR,wBAAiC,YAAc,KACrE,uBACEmG,KAAK,YACLZ,QAAS,SAAAC,GAAWH,EAAS,CAAE3E,KAAM,0BAA2BC,QAAS,OAF3E,cAMF,wBAAImC,UAAS,UAAuC,UAAlCtC,EAAMR,wBAAsC,YAAc,KAC1E,uBACEmG,KAAK,aACLZ,QAAS,SAAAC,GAAWH,EAAS,CAAE3E,KAAM,0BAA2BC,QAAS,YAF3E,eAMF,wBAAImC,UAAS,UAAuC,SAAlCtC,EAAMR,wBAAqC,YAAc,KACzE,uBACEmG,KAAK,cACLZ,QAAS,SAAAC,GAAWH,EAAS,CAAE3E,KAAM,0BAA2BC,QAAS,WAF3E,gBAMF,wBAAImC,UAAS,UAAuC,SAAlCtC,EAAMR,wBAAqC,YAAc,KACzE,uBACEmG,KAAK,cACLZ,QAAS,SAAAC,GAAWH,EAAS,CAAE3E,KAAM,0BAA2BC,QAAS,WAF3E,gBAMF,wBAAImC,UAAS,UAAuC,aAAlCtC,EAAMR,wBAAyC,YAAc,KAC7E,uBACEmG,KAAK,kBACLZ,QAAS,SAAAC,GAAWH,EAAS,CAAE3E,KAAM,0BAA2BC,QAAS,eAF3E,wBAWV,2BAAOmC,UAAU,sBACf,+BACE,4BACE,4BACE,uBACEqD,KAAK,kBACLZ,QAAS,SAAAC,GAEPA,EAAMO,iBACNV,EAAS,CAAE3E,KAAM,gBAAiBC,QAAS,eAE7CmC,UAAS,UAAmC,cAA9BtC,EAAMhB,oBAAsC,GAAKgB,EAAMZ,wBAA0B,iBAAmB,oBAPpH,cAWF,4BACE,uBACEuG,KAAK,oBACLZ,QAAS,SAAAC,GAEPA,EAAMO,iBACNV,EAAS,CAAE3E,KAAM,gBAAiBC,QAAS,iBAE7CmC,UAAS,UAAmC,gBAA9BtC,EAAMhB,oBAAwC,GAAKgB,EAAMZ,wBAA0B,iBAAmB,oBAPtH,gBAWF,4BACE,uBACEuG,KAAK,cACLZ,QAAS,SAAAC,GAEPA,EAAMO,iBACNV,EAAS,CAAE3E,KAAM,gBAAiBC,QAAS,cAE7CmC,UAAS,UAAmC,aAA9BtC,EAAMhB,oBAAqC,GAAKgB,EAAMZ,wBAA0B,iBAAmB,oBAPnH,SAWF,4BACE,uBACEuG,KAAK,qBACLZ,QAAS,SAAAC,GAEPA,EAAMO,iBACNV,EAAS,CAAE3E,KAAM,gBAAiBC,QAAS,gBAE7CmC,UAAS,UAAmC,eAA9BtC,EAAMhB,oBAAuC,GAAKgB,EAAMZ,wBAA0B,iBAAmB,oBAPrH,kBAWF,4BACE,uBACEuG,KAAK,sBACLZ,QAAS,SAAAC,GAEPA,EAAMO,iBACNV,EAAS,CAAE3E,KAAM,gBAAiBC,QAAS,wBAE7CmC,UAAS,UAAmC,uBAA9BtC,EAAMhB,oBAA+C,GAAKgB,EAAMZ,wBAA0B,iBAAmB,oBAP7H,gBAWF,wCAKJ,+BACGY,EAAMxB,kBAAkBgC,KAAI,SAAAoF,GAE3B,OAAQ,kBAAC,EAAD,eAAKnB,IAAKmB,EAAIlF,WAAekF,WC/GlCC,EAtCO,WACrB,IAAD,EAC8BhG,IAAMiF,WAAWlF,GAArCI,EADV,EACUA,MAAO6E,EADjB,EACiBA,SAEfhF,IAAMiG,WAAU,WAEY,IAA1B9F,EAAM5B,SAASmD,QAAgBwE,OAGjC,IAAMA,EAAe,0BAAAtF,EAAAkC,OAAA,kEAAAlC,EAAA,MAEAgD,EAAQhB,OAFR,cAEbyB,EAFa,yBAGZW,EAAS,CAAE3E,KAAM,eAAgBC,QAAS+D,KAH9B,sCAMrB,OACE,oCACE,kBAAC,EAAD,MAEA,yBAAK5B,UAAU,0BACb,yBACE6C,MAAO,CAACa,aAAc,GACtB1D,UAAU,gCACV,kBAAC,EAAD,OAGF,yBACE6C,MAAO,CAACc,YAAa,GACrB3D,UAAU,qCC7BpB4D,IAASC,OACP,mBTmLK,SAAuB/B,GAC7B,IAAD,EAC4BgC,qBAAWrG,EAAS5B,GADhD,mBACS6B,EADT,KACgB6E,EADhB,KAEE,OAAQ,kBAACjF,EAAMyG,SAAP,CAAgBX,MAAO,CAAE1F,QAAO6E,aAAaT,EAAMkC,YStL3D,KACE,kBAAC,EAAD,OACgBC,SAASC,eAAe,U","file":"static/js/main.3be579ce.chunk.js","sourcesContent":["import React, { useContext, useReducer } from 'react';\r\nimport { IState, IAction } from './interfaces';\r\nimport AVLData from './AVLData';\r\n\r\n\r\n\r\nconst initialState: IState =\r\n{\r\n  avl_data: [],\r\n  fleetcomplete_data: [],\r\n  cad_data: [],\r\n  unit_data: [],\r\n\r\n  filtered_avl_data: [],\r\n  filtered_fleetcomplete_data: [],\r\n  filtered_cad_data: [],\r\n  filtered_unit_data: [],\r\n\r\n  avl_data_filter: \"\",\r\n  fleetcomplete_data_filter: \"\",\r\n  cad_data_filter: \"\",\r\n  unit_data_filter: \"\",\r\n\r\n  avl_data_sort_field: \"device_id\",\r\n  fleetcomplete_data_sort_field: \"\",\r\n  cad_data_sort_field: \"\",\r\n  unit_data_sort_field: \"\",\r\n\r\n  avl_data_sort_ascending: true,\r\n  fleetcomplete_data_sort_ascending: true,\r\n  cad_data_sort_ascending: true,\r\n  unit_data_sort_ascending: true,\r\n\r\n  avl_data_special_filter: \"\",\r\n  fleetcomplete_data_special_filter: \"\",\r\n  cad_data_special_filter: \"\",\r\n  unit_data_special_filter: \"\"\r\n}\r\n\r\nexport const Store = React.createContext<IState | any>(initialState);\r\n\r\nfunction reducer(state: IState, action: IAction): IState\r\n{\r\n  switch (action.type)\r\n  {\r\n    case \"get_avl_data\":\r\n      return {\r\n        ...state,\r\n        avl_data: action.payload,\r\n        filtered_avl_data:\r\n          process_avl(\r\n            action.payload,\r\n            state.avl_data_filter,\r\n            state.avl_data_sort_field,\r\n            state.avl_data_sort_ascending,\r\n            state.avl_data_special_filter)\r\n      };\r\n\r\n    case \"search_avl_data\":\r\n      return {\r\n        ...state,\r\n        filtered_avl_data:\r\n          process_avl(\r\n            state.avl_data,\r\n            action.payload,\r\n            state.avl_data_sort_field,\r\n            state.avl_data_sort_ascending,\r\n            state.avl_data_special_filter),\r\n        avl_data_filter: action.payload\r\n      };\r\n\r\n    case \"avl_data_special_filter\":\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: process_avl(state.avl_data, state.avl_data_filter, state.avl_data_sort_field, state.avl_data_sort_ascending, action.payload),\r\n        avl_data_special_filter: action.payload\r\n      };\r\n\r\n    case \"avl_data_sort\":\r\n      let filtered = sort(state.filtered_avl_data, action.payload, !state.avl_data_sort_ascending);\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: filtered,\r\n        avl_data_sort_field: action.payload,\r\n        avl_data_sort_ascending: !state.avl_data_sort_ascending\r\n      };\r\n\r\n    case \"avl_data_toggle_show_errors\":\r\n      let showError = state.filtered_avl_data.map(a =>\r\n      {\r\n        if (a.device_id === action.payload)\r\n        {\r\n          a.show_errors = !a.show_errors;\r\n        }\r\n        return a;\r\n      });\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: showError\r\n      };\r\n\r\n    case \"avl_data_toggle_show_unit_options\":\r\n      let showUO = state.filtered_avl_data.map(a =>\r\n      {\r\n        if (a.device_id === action.payload)\r\n        {\r\n          a.show_unit_options = !a.show_unit_options;\r\n        }\r\n        return a;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: showUO\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction filter_avl(arrayToFilter:Array<AVLData>, filterUsing:string): Array<AVLData>\r\n{\r\n  if (filterUsing.length === 0) return arrayToFilter;\r\n  let f = filterUsing.toLowerCase();\r\n  let filtered = arrayToFilter.filter(j =>\r\n  {\r\n    return j.device_id.toLowerCase().indexOf(f) > -1 ||\r\n      j.unitcode.toLowerCase().indexOf(f) > -1;\r\n  });\r\n  return filtered;\r\n}\r\n\r\nfunction special_filter(array: Array<any>, specialFilter: string): Array<any>\r\n{\r\n  if (specialFilter.length === 0) return array;\r\n  switch (specialFilter)\r\n  {\r\n    case \"error\":\r\n      let filtered = array.filter(d => d.error_information.length > 0);\r\n      return filtered;\r\n\r\n    case \"date\":\r\n      return array.filter(d => d.has_date_error);\r\n\r\n    case \"location\":\r\n      return array.filter(d => d.has_location_error);\r\n\r\n    case \"unit\":\r\n      return array.filter(d => d.has_unit_error);\r\n\r\n    default:\r\n      return array;\r\n  }  \r\n}\r\n\r\nfunction sort(array: Array<any>, field: string, ascending: boolean) : Array<any>\r\n{\r\n  const date_fields = ['updated_on', 'location_timestamp'];\r\n  if (date_fields.indexOf(field) > -1) return sort_dates(array, field, ascending);\r\n  let sorted = array.sort((a, b) =>\r\n  {\r\n    if (a[field] > b[field]) return ascending ? 1 : -1;\r\n    if (b[field] > a[field]) return ascending ? -1 : 1;\r\n    return 0;\r\n  });\r\n  return sorted;\r\n}\r\n\r\nfunction sort_dates(array: Array<any>, field: string, ascending: boolean): Array<any>\r\n{\r\n  let sorted = array.sort((a, b) =>\r\n  {\r\n    if (new Date(a[field]) > new Date(b[field])) return ascending ? 1 : -1;\r\n    if (new Date(b[field]) > new Date(a[field])) return ascending ? -1 : 1;\r\n    return 0;\r\n  });\r\n  return sorted;\r\n}\r\n\r\nfunction process_avl(array: Array<any>, filter: string, field: string, ascending: boolean, specialFilter: string)\r\n{\r\n  let filtered = filter_avl(array, filter);\r\n  let special_filtered = special_filter(filtered, specialFilter);\r\n  return sort(special_filtered, field, ascending);\r\n}\r\n\r\nexport function StoreProvider(props: any): JSX.Element\r\n{\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (<Store.Provider value={{ state, dispatch }}>{props.children}</Store.Provider>);\r\n}","import React from 'react';\n\nconst Nav: React.FC = () =>\r\n{\n  return (\n    <nav className=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\r\n      <div className=\"navbar-brand\">\r\n        <h1 className=\"navbar-item is-size-3 has-text-weight-bold\">Vehicle Control</h1>\r\n      </div>\r\n      <div className=\"navbar-menu\">\r\n        <div className=\"navbar-start\">\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            Units\r\n            </p>\r\n          <p className=\"navbar-item is-tab is-active cursor_pointer\">\r\n            AVL\r\n            </p>\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            Fleet Complete\r\n            </p>\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            CAD\r\n            </p>\r\n        </div>\r\n\r\n        <div className=\"navbar-end\">\r\n          <p className=\"navbar-item\">\r\n            BaseMap\r\n          </p>\r\n          <p className=\"navbar-item\">\r\n            Layers\r\n          </p>\r\n\r\n        </div>\r\n      </div>\r\n    </nav>\n  );\n}\n\nexport default Nav;\n","//namespace Utilities\r\n//{\r\n  const app_path = \"/vehiclecontrol\";\r\n\r\n  export function Hide(e: string): void\r\n  export function Hide(e: HTMLElement): void\r\n  export function Hide(e: Element): void\r\n  export function Hide(e: any):void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show(e: string): void\r\n  export function Show(e: HTMLElement): void\r\n  export function Show(e: Element): void\r\n  export function Show(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Inline(e: string): void\r\n  export function Show_Inline(e: HTMLElement): void\r\n  export function Show_Inline(e: Element): void\r\n  export function Show_Inline(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-inline\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Inline_Flex(e: string): void\r\n  export function Show_Inline_Flex(e: HTMLElement): void\r\n  export function Show_Inline_Flex(e: Element): void\r\n  export function Show_Inline_Flex(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-inline-flex\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Flex(e: string): void\r\n  export function Show_Flex(e: HTMLElement): void\r\n  export function Show_Flex(e: Element): void\r\n  export function Show_Flex(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-flex\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show\");\r\n  }\r\n\r\n  export function Error_Show(e: string, errorText?: Array<string>, timeout?: boolean): void\r\n  export function Error_Show(e: string, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: HTMLElement, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: Element, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: any, errorText?: any, timeout?: boolean): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    if (errorText)\r\n    {\r\n      //Set_Text(e, errorText);\r\n      Clear_Element(e);\r\n      let notification = document.createElement(\"div\");\r\n      notification.classList.add(\"notification\");\r\n      notification.classList.add(\"is-danger\");\r\n      let deleteButton = document.createElement(\"button\");\r\n      deleteButton.classList.add(\"delete\");\r\n      deleteButton.onclick = () =>\r\n      {\r\n        Hide(e);\r\n      }\r\n      notification.appendChild(deleteButton);\r\n      if (Array.isArray(errorText))\r\n      {\r\n        // we're assuming that errorText is an array if we get here.\r\n        let ul = document.createElement(\"ul\");\r\n        errorText.forEach((et) =>\r\n        {\r\n          let li = document.createElement(\"li\");\r\n          li.appendChild(document.createTextNode(<string>et));\r\n          ul.appendChild(li);\r\n        });\r\n        notification.appendChild(ul);\r\n      } else\r\n      {\r\n        notification.appendChild(document.createTextNode(errorText));\r\n\r\n      }\r\n\r\n      (<HTMLElement>e).appendChild(notification);\r\n\r\n    }\r\n    Show(e);\r\n    if (timeout === undefined || timeout === true)\r\n    {\r\n      window.setTimeout(function (j)\r\n      {\r\n        Hide(e);\r\n      }, 30000)\r\n    }\r\n  }\r\n\r\n  export function Simple_Error_Show(e: Element, errorText: string): void\r\n  {\r\n    Clear_Element(<HTMLElement>e);\r\n    e.appendChild(document.createTextNode(errorText));\r\n  }\r\n\r\n  export function Clear_Element(node: HTMLElement): void\r\n  { // this function just emptys an element of all its child nodes.\r\n    if (node === null || node === undefined) return;\r\n    while (node.firstChild)\r\n    {\r\n      node.removeChild(node.firstChild);\r\n    }\r\n  }\r\n\r\n  export function Create_Option(value: string, label: string, selected: boolean = false): HTMLOptionElement\r\n  {\r\n    let o = document.createElement(\"option\");\r\n    o.value = value;\r\n    o.text = label;\r\n    o.selected = selected;\r\n    return o;\r\n  }\r\n\r\n  export function Get_Value(e: string): string\r\n  export function Get_Value(e: HTMLSelectElement): string\r\n  export function Get_Value(e: HTMLInputElement): string\r\n  export function Get_Value(e: any): string\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    return (<HTMLInputElement>e).value;\r\n  }\r\n\r\n  export function Set_Value(e: string, value: string): void\r\n  export function Set_Value(e: HTMLSelectElement, value: string): void\r\n  export function Set_Value(e: HTMLInputElement, value: string): void\r\n  export function Set_Value(e: any, value: string): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    (<HTMLInputElement>e).value = value;\r\n  }\r\n\r\n  export function Set_Text(e: string, value: string): void\r\n  export function Set_Text(e: HTMLElement, value: string): void\r\n  export function Set_Text(e: any, value: string): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    Clear_Element(e);\r\n    (<HTMLElement>e).appendChild(document.createTextNode(value));\r\n  }\r\n\r\n  //export function Show_Menu(elementId: string)\r\n  //{\r\n  //  //let element = e.srcElement;\r\n  //  // we expect the element's id to be in a \"nav-XXX\" name format, where \r\n  //  // XXX is the element we want to show \r\n  //  let id = elementId.replace(\"nav-\", \"\");\r\n  //  let menuItems = <NodeListOf<HTMLElement>>document.querySelectorAll(\"#menuTabs > li > a\");\r\n  //  if (menuItems.length > 0)\r\n  //  {\r\n  //    for (let i = 0; i < menuItems.length; i++)\r\n  //    {\r\n  //      let item = menuItems.item(i);\r\n  //      if (item.id === elementId)\r\n  //      {\r\n  //        item.parentElement.classList.add(\"is-active\");\r\n  //      }\r\n  //      else\r\n  //      {\r\n  //        item.parentElement.classList.remove(\"is-active\");\r\n  //      }\r\n  //    }\r\n  //  }\r\n  //  Show_Hide_Selector(\"#views > section\", id);\r\n  //}\r\n\r\n  //export function Handle_Tabs(tabSelector: string, containerSelector: string, id: string)\r\n  //{\r\n  //  Activate_Inactivate_Selector(tabSelector, \"nav-\" + id);\r\n  //  Show_Hide_Selector(containerSelector, id);\r\n  //}\r\n\r\n  //export function Activate_Inactivate_Selector(selector: string, id: string)\r\n  //{\r\n  //  let sections = <NodeListOf<HTMLElement>>document.querySelectorAll(selector);\r\n  //  if (sections.length > 0)\r\n  //  {\r\n  //    for (let i = 0; i < sections.length; i++)\r\n  //    {\r\n  //      let item = sections.item(i);\r\n  //      if (item.id === id)\r\n  //      {\r\n  //        item.classList.add(\"is-active\");\r\n  //      }\r\n  //      else\r\n  //      {\r\n  //        item.classList.remove(\"is-active\");\r\n  //      }\r\n  //    }\r\n  //  }\r\n  //}\r\n\r\n  export function Show_Hide_Selector(selector: string, id: string)\r\n  {\r\n    let sections = <NodeListOf<HTMLElement>>document.querySelectorAll(selector);\r\n    if (sections.length > 0)\r\n    {\r\n      for (let i = 0; i < sections.length; i++)\r\n      {\r\n        let item = sections.item(i);\r\n        if (item.id === id)\r\n        {\r\n          Show(item);\r\n        }\r\n        else\r\n        {\r\n          Hide(item);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // original Get Function\r\n  //export function Get<T>(url: string): Promise<T>\r\n  //{\r\n  //  return fetch(url,\r\n  //    {\r\n  //      method: \"GET\",\r\n  //      headers: {\r\n  //        \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n  //      },\r\n  //      cache: \"no-cache\",\r\n  //      credentials: \"include\"\r\n  //    }\r\n  //  )\r\n  //    .then(response =>\r\n  //    {\r\n  //      if (!response.ok)\r\n  //      {\r\n  //        throw new Error(response.statusText)\r\n  //      }\r\n  //      return response.json();\r\n  //    });\r\n  //}\r\n\r\n  export function Get_Path(app_name: string = \"\"): string\r\n  {\r\n    if (app_name.length === 0) app_name = app_path;\r\n    \r\n    let path = \"/\";\r\n    let i = window.location.pathname.toLowerCase().indexOf(app_name);\r\n    if (i === 0)\r\n    {\r\n      path = app_name + \"/\";\r\n    }\r\n    console.log('using app path ' + app_path, ' returning: ' + path);\r\n    return path;\r\n  }\r\n\r\n  export async function Get_Empty(url: string): Promise<string>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n        },\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n      }\r\n    );\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText);\r\n    }\r\n    return await response.text();\r\n  }\r\n\r\n  export async function Get<T>(url: string): Promise<T>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n        },\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n      }\r\n    );\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText);\r\n    }\r\n    return await response.json();\r\n  }\r\n\r\n  export async function Post<T>(url: string, data: object): Promise<T>\r\n  {\r\n    const response = await fetch(Get_Path() + url,\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        cache: \"no-cache\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        credentials: \"include\"\r\n      });\r\n\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText)\r\n    }\r\n    return response.json();\r\n\r\n  }\r\n\r\n  export async function Post_Empty(url: string, data: object): Promise<Response>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"POST\",\r\n        body: data !== null ? JSON.stringify(data) : \"\",\r\n        cache: \"no-cache\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        credentials: \"include\"\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  export function Format_Amount(amount: number): string\r\n  {\r\n    return amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' });\r\n  }\r\n\r\n  export function Format_Date(date: Date): string\r\n  export function Format_Date(date: string): string\r\n  export function Format_Date(date: any): string\r\n  {\r\n    if (date instanceof Date)\r\n    {\r\n      return date.toLocaleDateString('en-us');\r\n    }\r\n    var d = new Date(date);\r\n    return d.toLocaleDateString('en-US');\r\n  }\r\n\r\n  export function Format_DateTime(date: Date): string\r\n  export function Format_DateTime(date: string): string\r\n  export function Format_DateTime(date: any): string\r\n  {\r\n    if (date instanceof Date)\r\n    {\r\n      return date.toLocaleString('en-us');\r\n    }\r\n    return new Date(date).toLocaleString('en-US');\r\n  }\r\n\r\n  export function Validate_Text(e: string, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLInputElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLSelectElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: any, errorElementId: string, errorText: string): string\r\n  {\r\n    // this should only be used for required elements.\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    let ele = (<HTMLInputElement>e);\r\n    ele.tagName.toLowerCase() === \"select\" && ele.parentElement !== null ? ele.parentElement.classList.remove(\"is-danger\") : ele.classList.remove(\"is-danger\");\r\n    let v = Get_Value(ele).trim();\r\n    if (v.length === 0)\r\n    {\r\n      ele.tagName.toLowerCase() === \"select\" && ele.parentElement !== null ? ele.parentElement.classList.add(\"is-danger\") : ele.classList.add(\"is-danger\");\r\n      Error_Show(errorElementId, errorText);\r\n      ele.focus();\r\n      ele.scrollTo();\r\n      return \"\";\r\n    }\r\n    return v;\r\n\r\n  }\r\n\r\n  export function Toggle_Loading_Button(e: string, disabled: boolean)\r\n  export function Toggle_Loading_Button(e: HTMLButtonElement, disabled: boolean)\r\n  export function Toggle_Loading_Button(e: any, disabled: boolean)\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    let b = <HTMLButtonElement>e;\r\n    b.disabled = disabled;\r\n    b.classList.toggle(\"is-loading\", disabled);\r\n  }\r\n\r\n  //export function Create_Menu_Element(menuItem: MenuItem): HTMLLIElement\r\n  //{\r\n  //  let li = document.createElement(\"li\");\r\n  //  if (menuItem.selected) li.classList.add(\"is-active\");\r\n\r\n\r\n  //  let a = document.createElement(\"a\");\r\n  //  a.id = menuItem.id;\r\n  //  a.onclick = function ()\r\n  //  {\r\n  //    Update_Menu(menuItem);\r\n  //  }\r\n  //  if (menuItem.icon.length > 0)\r\n  //  {\r\n  //    let span = document.createElement(\"span\");\r\n  //    span.classList.add(\"icon\");\r\n  //    span.classList.add(Transaction.app_input_size);\r\n  //    let i = document.createElement(\"i\");\r\n  //    let icons = menuItem.icon.split(\" \");\r\n  //    for (let icon of icons)\r\n  //    {\r\n  //      i.classList.add(icon);\r\n  //    }\r\n  //    span.appendChild(i);\r\n  //    a.appendChild(span);\r\n  //  }\r\n  //  a.appendChild(document.createTextNode(menuItem.label))\r\n  //  li.appendChild(a);\r\n  //  return li;\r\n  //}\r\n\r\n  //export function Update_Menu(menuItem: MenuItem): void\r\n  //{\r\n  //  Set_Text(\"menuTitle\", menuItem.title);\r\n  //  Set_Text(\"menuSubTitle\", menuItem.subTitle);\r\n  //  Show_Menu(menuItem.id);\r\n  //  document.getElementById(menuItem.autofocusId).focus();\r\n  //}\r\n\r\n  //export function Build_Menu_Elements(target: string, Menus: Array<MenuItem>): void\r\n  //{\r\n  //  let menu = document.getElementById(target);\r\n  //  for (let menuItem of Menus)\r\n  //  {\r\n  //    menu.appendChild(Utilities.Create_Menu_Element(menuItem));\r\n  //  }\r\n  //}\r\n\r\n\r\n  //export function CheckBrowser()\r\n  //{\r\n  //  let browser: string = \"\";\r\n  //  if ((navigator.userAgent.indexOf(\"Opera\") || navigator.userAgent.indexOf('OPR')) != -1) \r\n  //  {\r\n  //    browser = 'Opera';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Chrome\") != -1)\r\n  //  {\r\n  //    browser = 'Chrome';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Safari\") != -1)\r\n  //  {\r\n  //    browser = 'Safari';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Firefox\") != -1) \r\n  //  {\r\n  //    browser = 'Firefox';\r\n  //  }\r\n  //  else if ((navigator.userAgent.indexOf(\"MSIE\") != -1) || (!!document.DOCUMENT_NODE == true)) //IF IE > 10\r\n  //  {\r\n  //    browser = 'IE';\r\n  //  }\r\n  //  else \r\n  //  {\r\n  //    browser = 'unknown';\r\n  //  }\r\n  //  return browser;\r\n  //}\r\n\r\n  \r\n\r\n  //export function Create_Centered_Level(level_items: Array<LevelItem>, left: Array<LevelItem> = [], right: Array<LevelItem> = []): HTMLElement\r\n  //{\r\n  //  let level = document.createElement(\"div\");\r\n  //  level.classList.add(\"level\");\r\n\r\n  //  for (let li of level_items)\r\n  //  {\r\n  //    level.appendChild(Create_Level_Item(li));\r\n  //  }\r\n  //  if (left.length > 0)\r\n  //  {\r\n  //    let leftcontainer = document.createElement(\"div\");\r\n  //    leftcontainer.classList.add(\"level-left\");\r\n  //    level.appendChild(leftcontainer);\r\n\r\n  //    for (let li of left)\r\n  //    {\r\n  //      leftcontainer.appendChild(Create_Level_Item(li));\r\n  //    }\r\n  //  }\r\n  //  if (right.length > 0)\r\n  //  {\r\n  //    let rightcontainer = document.createElement(\"div\");\r\n  //    rightcontainer.classList.add(\"level-right\");\r\n  //    level.appendChild(rightcontainer);\r\n\r\n  //    for (let li of right)\r\n  //    {\r\n  //      rightcontainer.appendChild(Create_Level_Item(li));\r\n  //    }\r\n  //  }\r\n\r\n  //  return level;\r\n  //}\r\n\r\n  //function Create_Level_Item(level_item: LevelItem): HTMLElement\r\n  //{\r\n  //  let levelitem = document.createElement(\"div\");\r\n  //  levelitem.classList.add(\"level-item\", ...level_item.classes);\r\n  //  let container = document.createElement(\"div\");\r\n  //  levelitem.appendChild(container);\r\n  //  if (level_item.heading.length > 0)\r\n  //  {\r\n  //    let heading = document.createElement(\"p\");\r\n  //    heading.classList.add(\"heading\");\r\n  //    heading.appendChild(document.createTextNode(level_item.heading));\r\n  //    container.appendChild(heading);\r\n  //  }\r\n  //  if (level_item.title_text.length > 0)\r\n  //  {\r\n  //    let title = document.createElement(\"p\");\r\n  //    title.classList.add(\"title\");\r\n  //    title.appendChild(document.createTextNode(level_item.title_text));\r\n  //    container.appendChild(title);\r\n  //  }\r\n  //  else\r\n  //  {\r\n  //    if (level_item.title !== null)\r\n  //    {\r\n  //      container.appendChild(level_item.title);\r\n  //    }\r\n  //  }\r\n  //  return levelitem;\r\n  //}\r\n\r\n  export function CreateTableCell(celltype: string, value: string, class_to_add: string, width: string = \"\", col_span: number = -1): HTMLTableCellElement\r\n  {\r\n    if (celltype !== \"td\" && celltype !== \"th\") celltype = \"td\";\r\n    let cell = <HTMLTableCellElement>document.createElement(celltype);\r\n    if (width.length > 0) cell.style.width = width;\r\n    if (value.length > 0) cell.appendChild(document.createTextNode(value));\r\n    if (class_to_add.length > 0) cell.classList.add(class_to_add);\r\n    if (col_span > -1) cell.colSpan = col_span;\r\n    return cell;\r\n  }\r\n\r\n//}\r\n\r\n//export default Utilities;","import { Get } from './Utilities';\r\n\r\ninterface IAVL_Data\r\n{\r\n  device_id: string;\r\n  device_type: string;\r\n  unitcode: string;\r\n  direction: number;\r\n  location_timestamp: Date;\r\n  satellite_count: number;\r\n  velocity: number;\r\n  latitude: number;\r\n  longitude: number;\r\n  updated_on: Date;\r\n  error_information: Array<string>;\r\n  show_errors: boolean;\r\n  show_unit_options: boolean;\r\n  has_date_error: boolean;\r\n  has_location_error: boolean;\r\n  has_unit_error: boolean;\r\n}\r\n\r\nexport class AVLData implements IAVL_Data\r\n{\r\n  public device_id: string = \"\";\r\n  public device_type: string = \"\";\r\n  public unitcode: string = \"\";\r\n  public direction: number = 0;\r\n  public location_timestamp: Date = new Date();\r\n  public satellite_count: number = 0;\r\n  public velocity: number = 0;\r\n  public latitude: number = 0;\r\n  public longitude: number = 0;\r\n  public updated_on: Date = new Date();\r\n  public error_information: Array<string> = [];\r\n  public show_unit_options: boolean = false;\r\n  public show_errors: boolean = false;\r\n  public has_date_error: boolean = false;\r\n  public has_location_error: boolean = false;\r\n  public has_unit_error: boolean = false;\r\n    \r\n  public static async Get(): Promise<Array<AVLData>>\r\n  {\r\n    const data = await Get<Array<AVLData>>('API/AVL/Get');\r\n    return data;\r\n  }\r\n\r\n}\r\n\r\nexport default AVLData;","import React from 'react';\r\nimport { IErrorInformation } from './interfaces';\r\n\r\nconst ErrorInformation = (props: IErrorInformation) =>\r\n{\r\n  if (!props.show_errors) return null;\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n      </td>\r\n      <td colSpan={props.colspan - 1}>\r\n        <ul>\r\n          {props.error_information.map(\r\n            (errorText, index) =>\r\n            {\r\n              return (\r\n                <li key={index}>\r\n                  {errorText}\r\n                </li>\r\n              )\r\n            })}\r\n        </ul>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ErrorInformation;","import React from 'react';\r\nimport { IAVLUnitOptions } from './interfaces';\r\n\r\nconst AVLUnitOptions = (props: IAVLUnitOptions) =>\r\n{\r\n  if (!props.show_unit_options) return null;\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n      </td>\r\n      <td className=\"has-text-right\">\r\n        Current Unit:\r\n      </td>\r\n      <td>\r\n        {props.unitcode.length === 0 ? 'None' : props.unitcode}\r\n      </td>\r\n      <td className=\"has-text-right\">\r\n        Change To:\r\n      </td>\r\n      <td colSpan={2}>\r\n        <div className=\"field has-addons\">\r\n          <div className=\"control\">\r\n            <input\r\n              className=\"input is-small\"\r\n              type=\"text\"\r\n              placeholder=\"New Unit\" />\r\n          </div>\r\n          <div className=\"control\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"button is-success is-small\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default AVLUnitOptions;","import React from 'react';\r\nimport AVLData from './AVLData';\r\nimport { Store } from './Store';\r\nimport { Format_DateTime } from './Utilities';\r\nimport ErrorInformation from './ErrorInformation';\r\nimport AVLUnitOptions from './AVLUnitOptions';\r\n\r\nconst AVL = (props:AVLData) =>\r\n{\r\n  const { dispatch } = React.useContext(Store);\r\n\r\n  return (\r\n    <>\r\n      <tr>\r\n        <td>\r\n          {props.device_id}\r\n        </td>\r\n        <td>\r\n          {props.device_type}\r\n        </td>\r\n        <td>\r\n          <span\r\n            className=\"cursor_pointer has-text-link\"\r\n            onClick={event =>\r\n            {\r\n              dispatch({ type: 'avl_data_toggle_show_unit_options', payload: props.device_id });\r\n            }\r\n            }>\r\n            {props.unitcode.length === 0 ? 'Add' : props.unitcode}          \r\n            </span>\r\n        </td>\r\n        <td>\r\n          {Format_DateTime(props.updated_on)}\r\n        </td>\r\n        <td>\r\n          {Format_DateTime(props.location_timestamp)}\r\n        </td>\r\n        <td>\r\n          {props.error_information.length > 0 ? (\r\n            <span\r\n              className=\"cursor_pointer has-text-link\"\r\n              onClick={event =>\r\n              {\r\n                dispatch({ type: 'avl_data_toggle_show_errors', payload: props.device_id });\r\n              }\r\n              }>\r\n              Errors\r\n            </span>\r\n          ) : ''\r\n          }\r\n\r\n\r\n        </td>\r\n      </tr>\r\n      <AVLUnitOptions\r\n        colspan={6}\r\n        new_unitcode=\"\"\r\n        {...props} />\r\n      <ErrorInformation\r\n        colspan={6}\r\n        error_information={props.error_information}\r\n        show_errors={props.show_errors} />\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default AVL;","import React from 'react';\r\nimport { Store } from './Store';\r\nimport AVLData from './AVLData';\r\nimport AVL from './AVL';\r\n\r\nconst AVLList: React.FC = () =>\r\n{\r\n  const { state, dispatch } = React.useContext(Store);\r\n  \r\n\r\n  return (\r\n    <section>\r\n      <div\r\n        style={{ padding: \"1em\", marginBottom: 0 }}\r\n        className=\"level\">\r\n        <div className=\"level-left\">\r\n          <div className=\"level-item is-size-3 has-text-weight-bold\">\r\n            AVL\r\n          </div>\r\n          <div className=\"level-item\">\r\n            <div className=\"field\">\r\n              <div className=\"control\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search\"\r\n                  onKeyDown={event =>\r\n                  {\r\n                    if (event.key === 'Enter')\r\n                    {\r\n                      event.preventDefault();\r\n                      event.stopPropagation();\r\n                      dispatch({\r\n                        type: \"search_avl_data\",\r\n                        payload: (event.target as HTMLInputElement).value\r\n                      })\r\n                    }\r\n\r\n                  }} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"level-right\">\r\n          <p className=\"level-item has-text-weight-bold\">Quick Filters</p>\r\n          <div className=\"level-item tabs\">\r\n            <ul>\r\n              <li className={`${state.avl_data_special_filter === '' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#NoFilter\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: '' }) }}>\r\n                  No Filter\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'error' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#AllErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'error' }) }}>\r\n                  All Errors\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'unit' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#UnitErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'unit' }) }}>\r\n                  Unit Errors\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'date' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#DateErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'date' }) }}>\r\n                  Date Errors\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'location' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#LocationErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'location' }) }}>\r\n                  Location Errors\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <table className=\"table is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDeviceId\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'device_id' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'device_id' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Device Id\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDeviceType\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'device_type' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'device_type' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Device Type\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByUnit\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'unitcode' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'unitcode' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Unit\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDateSavedOn\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'updated_on' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'updated_on' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Data Saved On\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByLocationDate\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'location_timestamp' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'location_timestamp' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Location On\r\n              </a>\r\n            </th>\r\n            <th>\r\n              Errors\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {state.filtered_avl_data.map(avl =>\r\n          {\r\n            return (<AVL key={avl.device_id} {...avl} />);\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AVLList;","import React from 'react';\nimport Nav from './nav';\nimport { Store } from './Store';\nimport AVLData from './AVLData';\nimport AVLList from './AVLList';\nimport { WebMapView } from './WebMapView';\n//import './App.css';\n\nconst App: React.FC = () =>\r\n{\n  const { state, dispatch } = React.useContext(Store);\n\n  React.useEffect(() =>\r\n  {\n    state.avl_data.length === 0 && fetchAVLData()\r\n  });\n\n  const fetchAVLData = async () =>\r\n  {\n    const data = await AVLData.Get();\r\n    return dispatch({ type: 'get_avl_data', payload: data });\r\n  }\n  \n  return (\n    <>\n      <Nav />\n      \n      <div className=\"columns main-container\">\n        <div          \n          style={{paddingRight: 0}}\n          className=\"column is-one-half left-side\">\n          <AVLList />\n        </div>\n\n        <div\n          style={{paddingLeft: 0}}\n          className=\"column is-one-half right-side\">\n          \n        </div>\n\n      </div>\n\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport { StoreProvider } from './Store';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}