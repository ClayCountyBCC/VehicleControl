{"version":3,"sources":["Store.tsx","nav.tsx","Utilities.ts","AVLData.ts","ErrorInformation.tsx","AVLUnitOptions.tsx","UnitHistory.ts","UnitHistoryList.tsx","AVL.tsx","AVLList.tsx","WebMapView.tsx","App.tsx","index.tsx"],"names":["initialState","avl_data","fleetcomplete_data","cad_data","unit_data","filtered_avl_data","filtered_fleetcomplete_data","filtered_cad_data","filtered_unit_data","avl_data_filter","fleetcomplete_data_filter","cad_data_filter","unit_data_filter","avl_data_sort_field","fleetcomplete_data_sort_field","cad_data_sort_field","unit_data_sort_field","avl_data_sort_ascending","fleetcomplete_data_sort_ascending","cad_data_sort_ascending","unit_data_sort_ascending","avl_data_special_filter","fleetcomplete_data_special_filter","cad_data_special_filter","unit_data_special_filter","Store","React","createContext","reducer","state","action","type","payload","process_avl","showHistory","map","a","device_id","device_history","filtered","sort","showError","show_errors","showUO","show_unit_options","array","field","ascending","indexOf","b","Date","sort_dates","filter","specialFilter","length","d","error_information","has_date_error","has_location_error","has_unit_error","special_filter","arrayToFilter","filterUsing","f","toLowerCase","j","unitcode","filter_avl","Nav","className","role","aria-label","Get","url","async","fetch","method","headers","cache","credentials","response","ok","Error","statusText","json","Post_Empty","data","body","JSON","stringify","Format_DateTime","date","toLocaleString","AVLData","device_type","direction","location_timestamp","satellite_count","velocity","latitude","longitude","updated_on","ErrorInformation","props","colSpan","colspan","errorText","index","key","AVLUnitOptions","useState","currentUnit","setCurrentUnit","onChange","event","target","value","placeholder","onClick","preventDefault","Update","trim","fetch_avl_data","alert","UnitHistory","id","changed_from","changed_to","changed_on","changed_by","error_message","UnitHistoryList","history","title","h","AVL","dispatch","useContext","fetchAVLData","style","paddingRight","marginLeft","GetByDeviceId","deviceHistory","Delete","new_unitcode","AVLList","padding","marginBottom","onKeyDown","stopPropagation","href","avl","WebMapView","mapRef","useRef","useEffect","loadModules","css","then","ArcGISMap","MapView","basemap","view","container","current","center","zoom","ref","App","paddingLeft","ReactDOM","render","useReducer","Provider","children","document","getElementById"],"mappings":"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","file":"static/js/main.409c4a34.chunk.js","sourcesContent":["import React, { useContext, useReducer } from 'react';\r\nimport { IState, IAction } from './interfaces';\r\nimport AVLData from './AVLData';\r\n\r\n\r\n\r\nconst initialState: IState =\r\n{\r\n  avl_data: [],\r\n  fleetcomplete_data: [],\r\n  cad_data: [],\r\n  unit_data: [],\r\n\r\n  filtered_avl_data: [],\r\n  filtered_fleetcomplete_data: [],\r\n  filtered_cad_data: [],\r\n  filtered_unit_data: [],\r\n\r\n  avl_data_filter: \"\",\r\n  fleetcomplete_data_filter: \"\",\r\n  cad_data_filter: \"\",\r\n  unit_data_filter: \"\",\r\n\r\n  avl_data_sort_field: \"device_id\",\r\n  fleetcomplete_data_sort_field: \"\",\r\n  cad_data_sort_field: \"\",\r\n  unit_data_sort_field: \"\",\r\n\r\n  avl_data_sort_ascending: true,\r\n  fleetcomplete_data_sort_ascending: true,\r\n  cad_data_sort_ascending: true,\r\n  unit_data_sort_ascending: true,\r\n\r\n  avl_data_special_filter: \"\",\r\n  fleetcomplete_data_special_filter: \"\",\r\n  cad_data_special_filter: \"\",\r\n  unit_data_special_filter: \"\"\r\n}\r\n\r\nexport const Store = React.createContext<IState | any>(initialState);\r\n\r\nfunction reducer(state: IState, action: IAction): IState\r\n{\r\n  switch (action.type)\r\n  {\r\n    case \"get_avl_data\":\r\n      return {\r\n        ...state,\r\n        avl_data: action.payload,\r\n        filtered_avl_data:\r\n          process_avl(\r\n            action.payload,\r\n            state.avl_data_filter,\r\n            state.avl_data_sort_field,\r\n            state.avl_data_sort_ascending,\r\n            state.avl_data_special_filter)\r\n      };\r\n\r\n    case \"search_avl_data\":\r\n      return {\r\n        ...state,\r\n        filtered_avl_data:\r\n          process_avl(\r\n            state.avl_data,\r\n            action.payload,\r\n            state.avl_data_sort_field,\r\n            state.avl_data_sort_ascending,\r\n            state.avl_data_special_filter),\r\n        avl_data_filter: action.payload\r\n      };\r\n\r\n    case \"avl_device_history\":\r\n      let showHistory = state.filtered_avl_data.map(a =>\r\n      {\r\n        if (a.device_id === action.payload.device_id)\r\n        {\r\n          a.device_history = action.payload.device_history;\r\n        }\r\n        return a;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: showHistory\r\n      };\r\n\r\n\r\n    case \"avl_data_special_filter\":\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: process_avl(state.avl_data, state.avl_data_filter, state.avl_data_sort_field, state.avl_data_sort_ascending, action.payload),\r\n        avl_data_special_filter: action.payload\r\n      };\r\n\r\n    case \"avl_data_sort\":\r\n      let filtered = sort(state.filtered_avl_data, action.payload, !state.avl_data_sort_ascending);\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: filtered,\r\n        avl_data_sort_field: action.payload,\r\n        avl_data_sort_ascending: !state.avl_data_sort_ascending\r\n      };\r\n\r\n    case \"avl_data_toggle_show_errors\":\r\n      let showError = state.filtered_avl_data.map(a =>\r\n      {\r\n        if (a.device_id === action.payload)\r\n        {\r\n          a.show_errors = !a.show_errors;\r\n        }\r\n        return a;\r\n      });\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: showError\r\n      };\r\n\r\n    case \"avl_data_toggle_show_unit_options\":\r\n      let showUO = state.filtered_avl_data.map(a =>\r\n      {\r\n        if (a.device_id === action.payload)\r\n        {\r\n          a.show_unit_options = !a.show_unit_options;\r\n        }\r\n        return a;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        filtered_avl_data: showUO\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction filter_avl(arrayToFilter:Array<AVLData>, filterUsing:string): Array<AVLData>\r\n{\r\n  if (filterUsing.length === 0) return arrayToFilter;\r\n  let f = filterUsing.toLowerCase();\r\n  let filtered = arrayToFilter.filter(j =>\r\n  {\r\n    return j.device_id.toLowerCase().indexOf(f) > -1 ||\r\n      j.unitcode.toLowerCase().indexOf(f) > -1;\r\n  });\r\n  return filtered;\r\n}\r\n\r\nfunction special_filter(array: Array<any>, specialFilter: string): Array<any>\r\n{\r\n  if (specialFilter.length === 0) return array;\r\n  switch (specialFilter)\r\n  {\r\n    case \"error\":\r\n      let filtered = array.filter(d => d.error_information.length > 0);\r\n      return filtered;\r\n\r\n    case \"date\":\r\n      return array.filter(d => d.has_date_error);\r\n\r\n    case \"location\":\r\n      return array.filter(d => d.has_location_error);\r\n\r\n    case \"unit\":\r\n      return array.filter(d => d.has_unit_error);\r\n\r\n    default:\r\n      return array;\r\n  }  \r\n}\r\n\r\nfunction sort(array: Array<any>, field: string, ascending: boolean) : Array<any>\r\n{\r\n  const date_fields = ['updated_on', 'location_timestamp'];\r\n  if (date_fields.indexOf(field) > -1) return sort_dates(array, field, ascending);\r\n  let sorted = array.sort((a, b) =>\r\n  {\r\n    if (a[field] > b[field]) return ascending ? 1 : -1;\r\n    if (b[field] > a[field]) return ascending ? -1 : 1;\r\n    return 0;\r\n  });\r\n  return sorted;\r\n}\r\n\r\nfunction sort_dates(array: Array<any>, field: string, ascending: boolean): Array<any>\r\n{\r\n  let sorted = array.sort((a, b) =>\r\n  {\r\n    if (new Date(a[field]) > new Date(b[field])) return ascending ? 1 : -1;\r\n    if (new Date(b[field]) > new Date(a[field])) return ascending ? -1 : 1;\r\n    return 0;\r\n  });\r\n  return sorted;\r\n}\r\n\r\nfunction process_avl(array: Array<any>, filter: string, field: string, ascending: boolean, specialFilter: string)\r\n{\r\n  let filtered = filter_avl(array, filter);\r\n  let special_filtered = special_filter(filtered, specialFilter);\r\n  return sort(special_filtered, field, ascending);\r\n}\r\n\r\nexport function StoreProvider(props: any): JSX.Element\r\n{\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n  return (<Store.Provider value={{ state, dispatch }}>{props.children}</Store.Provider>);\r\n}\r\n\r\n","import React from 'react';\n\nconst Nav: React.FC = () =>\r\n{\n  return (\n    <nav className=\"navbar is-primary\" role=\"navigation\" aria-label=\"main navigation\">\r\n      <div className=\"navbar-brand\">\r\n        <h1 className=\"navbar-item is-size-3 has-text-weight-bold\">Vehicle Control</h1>\r\n      </div>\r\n      <div className=\"navbar-menu\">\r\n        <div className=\"navbar-start\">\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            Units\r\n            </p>\r\n          <p className=\"navbar-item is-tab is-active cursor_pointer\">\r\n            AVL\r\n            </p>\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            Fleet Complete\r\n            </p>\r\n          <p className=\"navbar-item is-tab cursor_pointer\">\r\n            CAD\r\n            </p>\r\n        </div>\r\n\r\n        <div className=\"navbar-end\">\r\n          <p className=\"navbar-item\">\r\n            BaseMap\r\n          </p>\r\n          <p className=\"navbar-item\">\r\n            Layers\r\n          </p>\r\n\r\n        </div>\r\n      </div>\r\n    </nav>\n  );\n}\n\nexport default Nav;\n","//namespace Utilities\r\n//{\r\n  const app_path = \"/vehiclecontrol\";\r\n\r\n  export function Hide(e: string): void\r\n  export function Hide(e: HTMLElement): void\r\n  export function Hide(e: Element): void\r\n  export function Hide(e: any):void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show(e: string): void\r\n  export function Show(e: HTMLElement): void\r\n  export function Show(e: Element): void\r\n  export function Show(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Inline(e: string): void\r\n  export function Show_Inline(e: HTMLElement): void\r\n  export function Show_Inline(e: Element): void\r\n  export function Show_Inline(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-inline\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Inline_Flex(e: string): void\r\n  export function Show_Inline_Flex(e: HTMLElement): void\r\n  export function Show_Inline_Flex(e: Element): void\r\n  export function Show_Inline_Flex(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-inline-flex\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show\");\r\n    e.classList.remove(\"show-flex\");\r\n  }\r\n\r\n  export function Show_Flex(e: string): void\r\n  export function Show_Flex(e: HTMLElement): void\r\n  export function Show_Flex(e: Element): void\r\n  export function Show_Flex(e: any): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    e.classList.add(\"show-flex\");\r\n    e.classList.remove(\"hide\");\r\n    e.classList.remove(\"show-inline\");\r\n    e.classList.remove(\"show\");\r\n  }\r\n\r\n  export function Error_Show(e: string, errorText?: Array<string>, timeout?: boolean): void\r\n  export function Error_Show(e: string, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: HTMLElement, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: Element, errorText?: string, timeout?: boolean): void\r\n  export function Error_Show(e: any, errorText?: any, timeout?: boolean): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    if (errorText)\r\n    {\r\n      //Set_Text(e, errorText);\r\n      Clear_Element(e);\r\n      let notification = document.createElement(\"div\");\r\n      notification.classList.add(\"notification\");\r\n      notification.classList.add(\"is-danger\");\r\n      let deleteButton = document.createElement(\"button\");\r\n      deleteButton.classList.add(\"delete\");\r\n      deleteButton.onclick = () =>\r\n      {\r\n        Hide(e);\r\n      }\r\n      notification.appendChild(deleteButton);\r\n      if (Array.isArray(errorText))\r\n      {\r\n        // we're assuming that errorText is an array if we get here.\r\n        let ul = document.createElement(\"ul\");\r\n        errorText.forEach((et) =>\r\n        {\r\n          let li = document.createElement(\"li\");\r\n          li.appendChild(document.createTextNode(<string>et));\r\n          ul.appendChild(li);\r\n        });\r\n        notification.appendChild(ul);\r\n      } else\r\n      {\r\n        notification.appendChild(document.createTextNode(errorText));\r\n\r\n      }\r\n\r\n      (<HTMLElement>e).appendChild(notification);\r\n\r\n    }\r\n    Show(e);\r\n    if (timeout === undefined || timeout === true)\r\n    {\r\n      window.setTimeout(function (j)\r\n      {\r\n        Hide(e);\r\n      }, 30000)\r\n    }\r\n  }\r\n\r\n  export function Simple_Error_Show(e: Element, errorText: string): void\r\n  {\r\n    Clear_Element(<HTMLElement>e);\r\n    e.appendChild(document.createTextNode(errorText));\r\n  }\r\n\r\n  export function Clear_Element(node: HTMLElement): void\r\n  { // this function just emptys an element of all its child nodes.\r\n    if (node === null || node === undefined) return;\r\n    while (node.firstChild)\r\n    {\r\n      node.removeChild(node.firstChild);\r\n    }\r\n  }\r\n\r\n  export function Create_Option(value: string, label: string, selected: boolean = false): HTMLOptionElement\r\n  {\r\n    let o = document.createElement(\"option\");\r\n    o.value = value;\r\n    o.text = label;\r\n    o.selected = selected;\r\n    return o;\r\n  }\r\n\r\n  export function Get_Value(e: string): string\r\n  export function Get_Value(e: HTMLSelectElement): string\r\n  export function Get_Value(e: HTMLInputElement): string\r\n  export function Get_Value(e: any): string\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    return (<HTMLInputElement>e).value;\r\n  }\r\n\r\n  export function Set_Value(e: string, value: string): void\r\n  export function Set_Value(e: HTMLSelectElement, value: string): void\r\n  export function Set_Value(e: HTMLInputElement, value: string): void\r\n  export function Set_Value(e: any, value: string): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    (<HTMLInputElement>e).value = value;\r\n  }\r\n\r\n  export function Set_Text(e: string, value: string): void\r\n  export function Set_Text(e: HTMLElement, value: string): void\r\n  export function Set_Text(e: any, value: string): void\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    Clear_Element(e);\r\n    (<HTMLElement>e).appendChild(document.createTextNode(value));\r\n  }\r\n\r\n  //export function Show_Menu(elementId: string)\r\n  //{\r\n  //  //let element = e.srcElement;\r\n  //  // we expect the element's id to be in a \"nav-XXX\" name format, where \r\n  //  // XXX is the element we want to show \r\n  //  let id = elementId.replace(\"nav-\", \"\");\r\n  //  let menuItems = <NodeListOf<HTMLElement>>document.querySelectorAll(\"#menuTabs > li > a\");\r\n  //  if (menuItems.length > 0)\r\n  //  {\r\n  //    for (let i = 0; i < menuItems.length; i++)\r\n  //    {\r\n  //      let item = menuItems.item(i);\r\n  //      if (item.id === elementId)\r\n  //      {\r\n  //        item.parentElement.classList.add(\"is-active\");\r\n  //      }\r\n  //      else\r\n  //      {\r\n  //        item.parentElement.classList.remove(\"is-active\");\r\n  //      }\r\n  //    }\r\n  //  }\r\n  //  Show_Hide_Selector(\"#views > section\", id);\r\n  //}\r\n\r\n  //export function Handle_Tabs(tabSelector: string, containerSelector: string, id: string)\r\n  //{\r\n  //  Activate_Inactivate_Selector(tabSelector, \"nav-\" + id);\r\n  //  Show_Hide_Selector(containerSelector, id);\r\n  //}\r\n\r\n  //export function Activate_Inactivate_Selector(selector: string, id: string)\r\n  //{\r\n  //  let sections = <NodeListOf<HTMLElement>>document.querySelectorAll(selector);\r\n  //  if (sections.length > 0)\r\n  //  {\r\n  //    for (let i = 0; i < sections.length; i++)\r\n  //    {\r\n  //      let item = sections.item(i);\r\n  //      if (item.id === id)\r\n  //      {\r\n  //        item.classList.add(\"is-active\");\r\n  //      }\r\n  //      else\r\n  //      {\r\n  //        item.classList.remove(\"is-active\");\r\n  //      }\r\n  //    }\r\n  //  }\r\n  //}\r\n\r\n  export function Show_Hide_Selector(selector: string, id: string)\r\n  {\r\n    let sections = <NodeListOf<HTMLElement>>document.querySelectorAll(selector);\r\n    if (sections.length > 0)\r\n    {\r\n      for (let i = 0; i < sections.length; i++)\r\n      {\r\n        let item = sections.item(i);\r\n        if (item.id === id)\r\n        {\r\n          Show(item);\r\n        }\r\n        else\r\n        {\r\n          Hide(item);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // original Get Function\r\n  //export function Get<T>(url: string): Promise<T>\r\n  //{\r\n  //  return fetch(url,\r\n  //    {\r\n  //      method: \"GET\",\r\n  //      headers: {\r\n  //        \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n  //      },\r\n  //      cache: \"no-cache\",\r\n  //      credentials: \"include\"\r\n  //    }\r\n  //  )\r\n  //    .then(response =>\r\n  //    {\r\n  //      if (!response.ok)\r\n  //      {\r\n  //        throw new Error(response.statusText)\r\n  //      }\r\n  //      return response.json();\r\n  //    });\r\n  //}\r\n\r\n  export function Get_Path(app_name: string = \"\"): string\r\n  {\r\n    if (app_name.length === 0) app_name = app_path;\r\n    \r\n    let path = \"/\";\r\n    let i = window.location.pathname.toLowerCase().indexOf(app_name);\r\n    if (i === 0)\r\n    {\r\n      path = app_name + \"/\";\r\n    }\r\n    console.log('using app path ' + app_path, ' returning: ' + path);\r\n    return path;\r\n  }\r\n\r\n  export async function Get_Empty(url: string): Promise<string>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n        },\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n      }\r\n    );\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText);\r\n    }\r\n    return await response.text();\r\n  }\r\n\r\n  export async function Get<T>(url: string): Promise<T>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"//,\"Upgrade-Insecure-Requests\": \"1\"\r\n        },\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n      }\r\n    );\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText);\r\n    }\r\n    return await response.json();\r\n  }\r\n\r\n  export async function Post<T>(url: string, data: object): Promise<T>\r\n  {\r\n    const response = await fetch(Get_Path() + url,\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n        cache: \"no-cache\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        credentials: \"include\"\r\n      });\r\n\r\n    if (!response.ok)\r\n    {\r\n      throw new Error(response.statusText)\r\n    }\r\n    return response.json();\r\n\r\n  }\r\n\r\n  export async function Post_Empty(url: string, data: object): Promise<Response>\r\n  {\r\n    const response = await fetch(url,\r\n      {\r\n        method: \"POST\",\r\n        body: data !== null ? JSON.stringify(data) : \"\",\r\n        cache: \"no-cache\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        credentials: \"include\"\r\n      });\r\n\r\n    return response;\r\n  }\r\n\r\n  export function Format_Amount(amount: number): string\r\n  {\r\n    return amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' });\r\n  }\r\n\r\n  export function Format_Date(date: Date): string\r\n  export function Format_Date(date: string): string\r\n  export function Format_Date(date: any): string\r\n  {\r\n    if (date instanceof Date)\r\n    {\r\n      return date.toLocaleDateString('en-us');\r\n    }\r\n    var d = new Date(date);\r\n    return d.toLocaleDateString('en-US');\r\n  }\r\n\r\n  export function Format_DateTime(date: Date): string\r\n  export function Format_DateTime(date: string): string\r\n  export function Format_DateTime(date: any): string\r\n  {\r\n    if (date instanceof Date)\r\n    {\r\n      return date.toLocaleString('en-us');\r\n    }\r\n    return new Date(date).toLocaleString('en-US');\r\n  }\r\n\r\n  export function Validate_Text(e: string, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLInputElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLSelectElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: HTMLElement, errorElementId: string, errorText: string): string\r\n  export function Validate_Text(e: any, errorElementId: string, errorText: string): string\r\n  {\r\n    // this should only be used for required elements.\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    let ele = (<HTMLInputElement>e);\r\n    ele.tagName.toLowerCase() === \"select\" && ele.parentElement !== null ? ele.parentElement.classList.remove(\"is-danger\") : ele.classList.remove(\"is-danger\");\r\n    let v = Get_Value(ele).trim();\r\n    if (v.length === 0)\r\n    {\r\n      ele.tagName.toLowerCase() === \"select\" && ele.parentElement !== null ? ele.parentElement.classList.add(\"is-danger\") : ele.classList.add(\"is-danger\");\r\n      Error_Show(errorElementId, errorText);\r\n      ele.focus();\r\n      ele.scrollTo();\r\n      return \"\";\r\n    }\r\n    return v;\r\n\r\n  }\r\n\r\n  export function Toggle_Loading_Button(e: string, disabled: boolean)\r\n  export function Toggle_Loading_Button(e: HTMLButtonElement, disabled: boolean)\r\n  export function Toggle_Loading_Button(e: any, disabled: boolean)\r\n  {\r\n    if (typeof e === \"string\")\r\n    {\r\n      e = document.getElementById(e);\r\n    }\r\n    let b = <HTMLButtonElement>e;\r\n    b.disabled = disabled;\r\n    b.classList.toggle(\"is-loading\", disabled);\r\n  }\r\n\r\n  //export function Create_Menu_Element(menuItem: MenuItem): HTMLLIElement\r\n  //{\r\n  //  let li = document.createElement(\"li\");\r\n  //  if (menuItem.selected) li.classList.add(\"is-active\");\r\n\r\n\r\n  //  let a = document.createElement(\"a\");\r\n  //  a.id = menuItem.id;\r\n  //  a.onclick = function ()\r\n  //  {\r\n  //    Update_Menu(menuItem);\r\n  //  }\r\n  //  if (menuItem.icon.length > 0)\r\n  //  {\r\n  //    let span = document.createElement(\"span\");\r\n  //    span.classList.add(\"icon\");\r\n  //    span.classList.add(Transaction.app_input_size);\r\n  //    let i = document.createElement(\"i\");\r\n  //    let icons = menuItem.icon.split(\" \");\r\n  //    for (let icon of icons)\r\n  //    {\r\n  //      i.classList.add(icon);\r\n  //    }\r\n  //    span.appendChild(i);\r\n  //    a.appendChild(span);\r\n  //  }\r\n  //  a.appendChild(document.createTextNode(menuItem.label))\r\n  //  li.appendChild(a);\r\n  //  return li;\r\n  //}\r\n\r\n  //export function Update_Menu(menuItem: MenuItem): void\r\n  //{\r\n  //  Set_Text(\"menuTitle\", menuItem.title);\r\n  //  Set_Text(\"menuSubTitle\", menuItem.subTitle);\r\n  //  Show_Menu(menuItem.id);\r\n  //  document.getElementById(menuItem.autofocusId).focus();\r\n  //}\r\n\r\n  //export function Build_Menu_Elements(target: string, Menus: Array<MenuItem>): void\r\n  //{\r\n  //  let menu = document.getElementById(target);\r\n  //  for (let menuItem of Menus)\r\n  //  {\r\n  //    menu.appendChild(Utilities.Create_Menu_Element(menuItem));\r\n  //  }\r\n  //}\r\n\r\n\r\n  //export function CheckBrowser()\r\n  //{\r\n  //  let browser: string = \"\";\r\n  //  if ((navigator.userAgent.indexOf(\"Opera\") || navigator.userAgent.indexOf('OPR')) != -1) \r\n  //  {\r\n  //    browser = 'Opera';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Chrome\") != -1)\r\n  //  {\r\n  //    browser = 'Chrome';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Safari\") != -1)\r\n  //  {\r\n  //    browser = 'Safari';\r\n  //  }\r\n  //  else if (navigator.userAgent.indexOf(\"Firefox\") != -1) \r\n  //  {\r\n  //    browser = 'Firefox';\r\n  //  }\r\n  //  else if ((navigator.userAgent.indexOf(\"MSIE\") != -1) || (!!document.DOCUMENT_NODE == true)) //IF IE > 10\r\n  //  {\r\n  //    browser = 'IE';\r\n  //  }\r\n  //  else \r\n  //  {\r\n  //    browser = 'unknown';\r\n  //  }\r\n  //  return browser;\r\n  //}\r\n\r\n  \r\n\r\n  //export function Create_Centered_Level(level_items: Array<LevelItem>, left: Array<LevelItem> = [], right: Array<LevelItem> = []): HTMLElement\r\n  //{\r\n  //  let level = document.createElement(\"div\");\r\n  //  level.classList.add(\"level\");\r\n\r\n  //  for (let li of level_items)\r\n  //  {\r\n  //    level.appendChild(Create_Level_Item(li));\r\n  //  }\r\n  //  if (left.length > 0)\r\n  //  {\r\n  //    let leftcontainer = document.createElement(\"div\");\r\n  //    leftcontainer.classList.add(\"level-left\");\r\n  //    level.appendChild(leftcontainer);\r\n\r\n  //    for (let li of left)\r\n  //    {\r\n  //      leftcontainer.appendChild(Create_Level_Item(li));\r\n  //    }\r\n  //  }\r\n  //  if (right.length > 0)\r\n  //  {\r\n  //    let rightcontainer = document.createElement(\"div\");\r\n  //    rightcontainer.classList.add(\"level-right\");\r\n  //    level.appendChild(rightcontainer);\r\n\r\n  //    for (let li of right)\r\n  //    {\r\n  //      rightcontainer.appendChild(Create_Level_Item(li));\r\n  //    }\r\n  //  }\r\n\r\n  //  return level;\r\n  //}\r\n\r\n  //function Create_Level_Item(level_item: LevelItem): HTMLElement\r\n  //{\r\n  //  let levelitem = document.createElement(\"div\");\r\n  //  levelitem.classList.add(\"level-item\", ...level_item.classes);\r\n  //  let container = document.createElement(\"div\");\r\n  //  levelitem.appendChild(container);\r\n  //  if (level_item.heading.length > 0)\r\n  //  {\r\n  //    let heading = document.createElement(\"p\");\r\n  //    heading.classList.add(\"heading\");\r\n  //    heading.appendChild(document.createTextNode(level_item.heading));\r\n  //    container.appendChild(heading);\r\n  //  }\r\n  //  if (level_item.title_text.length > 0)\r\n  //  {\r\n  //    let title = document.createElement(\"p\");\r\n  //    title.classList.add(\"title\");\r\n  //    title.appendChild(document.createTextNode(level_item.title_text));\r\n  //    container.appendChild(title);\r\n  //  }\r\n  //  else\r\n  //  {\r\n  //    if (level_item.title !== null)\r\n  //    {\r\n  //      container.appendChild(level_item.title);\r\n  //    }\r\n  //  }\r\n  //  return levelitem;\r\n  //}\r\n\r\n  export function CreateTableCell(celltype: string, value: string, class_to_add: string, width: string = \"\", col_span: number = -1): HTMLTableCellElement\r\n  {\r\n    if (celltype !== \"td\" && celltype !== \"th\") celltype = \"td\";\r\n    let cell = <HTMLTableCellElement>document.createElement(celltype);\r\n    if (width.length > 0) cell.style.width = width;\r\n    if (value.length > 0) cell.appendChild(document.createTextNode(value));\r\n    if (class_to_add.length > 0) cell.classList.add(class_to_add);\r\n    if (col_span > -1) cell.colSpan = col_span;\r\n    return cell;\r\n  }\r\n\r\n//}\r\n\r\n//export default Utilities;","import { Get, Post_Empty } from './Utilities';\r\n\r\ninterface IAVLData\r\n{\r\n  device_id: string;\r\n  device_type: string;\r\n  unitcode: string;\r\n  direction: number;\r\n  location_timestamp: Date;\r\n  satellite_count: number;\r\n  velocity: number;\r\n  latitude: number;\r\n  longitude: number;\r\n  updated_on: Date;\r\n  error_information: Array<string>;\r\n  show_errors: boolean;\r\n  show_unit_options: boolean;\r\n  has_date_error: boolean;\r\n  has_location_error: boolean;\r\n  has_unit_error: boolean;\r\n  device_history: Array<any>;\r\n}\r\n\r\nexport class AVLData implements IAVLData\r\n{\r\n  public device_id: string = \"\";\r\n  public device_type: string = \"\";\r\n  public unitcode: string = \"\";\r\n  public direction: number = 0;\r\n  public location_timestamp: Date = new Date();\r\n  public satellite_count: number = 0;\r\n  public velocity: number = 0;\r\n  public latitude: number = 0;\r\n  public longitude: number = 0;\r\n  public updated_on: Date = new Date();\r\n  public error_information: Array<string> = [];\r\n  public show_unit_options: boolean = false;\r\n  public show_errors: boolean = false;\r\n  public has_date_error: boolean = false;\r\n  public has_location_error: boolean = false;\r\n  public has_unit_error: boolean = false;\r\n  public device_history: Array<any> = [];\r\n  \r\n  public static async Get(): Promise<Array<AVLData>>\r\n  {\r\n    const data = await Get<Array<AVLData>>('API/AVL/Get');\r\n    return data;\r\n  }\r\n\r\n  public static async Delete(device_id: string): Promise<Response>\r\n  {\r\n    const response = await Post_Empty(\"API/AVL/Delete?device_id=\" + device_id, {});\r\n    return response;\r\n  }\r\n\r\n  public static async Update(device_id: string, device_type: string, unitcode: string): Promise<Response>\r\n  {\r\n    const response = await Post_Empty(`API/AVL/Update?device_id=${device_id}&device_type=${device_type}&unitcode=${unitcode}`, {});\r\n    return response;\r\n  }\r\n\r\n}\r\n\r\nexport default AVLData;","import React from 'react';\r\nimport { IErrorInformation } from './interfaces';\r\n\r\nconst ErrorInformation = (props: IErrorInformation) =>\r\n{\r\n  if (!props.show_errors) return null;\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n      </td>\r\n      <td colSpan={props.colspan - 1}>\r\n        <ul>\r\n          {props.error_information.map(\r\n            (errorText, index) =>\r\n            {\r\n              return (\r\n                <li key={index}>\r\n                  {errorText}\r\n                </li>\r\n              )\r\n            })}\r\n        </ul>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ErrorInformation;","import React, { useState } from 'react';\r\nimport { IAVLUnitOptions } from './interfaces';\r\nimport AVLData from './AVLData';\r\n//import { Store } from './Store';\r\n\r\nconst AVLUnitOptions = (props: IAVLUnitOptions) =>\r\n{\r\n  //const { dispatch } = React.useContext(Store);\r\n  const [currentUnit, setCurrentUnit] = useState(\"\");\r\n  //const fetchAVLData = async () =>\r\n  //{\r\n  //  const data = await AVLData.Get();\r\n  //  return dispatch({ type: 'get_avl_data', payload: data });\r\n  //}\r\n\r\n  if (!props.show_unit_options) return null;\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n      </td>\r\n      <td className=\"has-text-right\">\r\n        Current Unit:\r\n      </td>\r\n      <td>\r\n        {props.unitcode.length === 0 ? 'None' : props.unitcode}\r\n      </td>\r\n      <td className=\"has-text-right\">\r\n        Change To:\r\n      </td>\r\n      <td colSpan={2}>\r\n        <div className=\"field has-addons\">\r\n          <div className=\"control\">\r\n            <input\r\n              className=\"input is-small\"\r\n              type=\"text\"\r\n              onChange={event => setCurrentUnit(event.target.value)}\r\n              value={currentUnit}\r\n              placeholder=\"New Unit\" />\r\n          </div>\r\n          <div className=\"control\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={async event =>\r\n              {\r\n                event.preventDefault();\r\n                const response = await AVLData.Update(props.device_id, props.device_type, currentUnit.trim());\r\n                if (response.ok)\r\n                {\r\n                  props.fetch_avl_data();\r\n                }\r\n                else\r\n                {\r\n                  alert(\"There was a problem with deleting this record. Please contact MIS Development for more information.\");\r\n                }\r\n              }}\r\n              className=\"button is-success is-small\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default AVLUnitOptions;","import { Get } from './Utilities';\r\n\r\ninterface IUnitHistory\r\n{\r\n  id: number;\r\n  unitcode: string;\r\n  field: string;\r\n  changed_from: string;\r\n  changed_to: string;\r\n  changed_on: Date;\r\n  changed_by: string;\r\n  error_message: string;\r\n}\r\n\r\nexport class UnitHistory implements IUnitHistory\r\n{\r\n  public id: number = -1;\r\n  public unitcode: string = \"\";\r\n  public field: string = \"\";\r\n  public changed_from: string = \"\";\r\n  public changed_to: string = \"\";\r\n  public changed_on: Date = new Date();\r\n  public changed_by: string = \"\";\r\n  public error_message: string = \"\";\r\n\r\n  public static async GetByUnit(unitcode: string): Promise<Array<UnitHistory>>\r\n  {\r\n    const data = await Get<Array<UnitHistory>>('API/History/Unit?unitcode=' + unitcode);\r\n    return data;\r\n  }\r\n\r\n  public static async GetByDeviceId(device_id: string): Promise<Array<UnitHistory>>\r\n  {\r\n    const data = await Get<Array<UnitHistory>>('API/History/DeviceId?deviceId=' + device_id);\r\n    return data;\r\n  }\r\n\r\n}\r\n\r\nexport default UnitHistory;","import React from 'react';\r\nimport { IUnitHistoryList } from './interfaces';\r\nimport UnitHistory from './UnitHistory';\r\nimport { Format_DateTime } from './Utilities';\r\n\r\nconst UnitHistoryList = (props: IUnitHistoryList) =>\r\n{\r\n  if (!props.history || props.history.length === 0) return null;\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        \r\n      </td>\r\n      <td colSpan={props.colspan - 1}>\r\n        <table className=\"table is-fullwidth\">\r\n          <thead>\r\n            <tr>\r\n              <th\r\n                className=\"has-text-centered\"\r\n                colSpan={props.colspan}>\r\n                {props.title}\r\n              </th>\r\n            </tr>\r\n            <tr>\r\n              <th>\r\n                Unitcode\r\n              </th>\r\n              <th>\r\n                Field\r\n              </th>\r\n              <th>\r\n                Changed From\r\n              </th>\r\n              <th>\r\n                Changed To\r\n              </th>\r\n              <th>\r\n                Changed On\r\n              </th>\r\n              <th>\r\n                Changed By\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {props.history.map(\r\n              (h) =>\r\n              {\r\n                if (h.error_message.length > 0)\r\n                {\r\n                  return (\r\n                    <tr>\r\n                      <td colSpan={6}>{h.error_message}</td>\r\n                    </tr>\r\n                  )\r\n                }\r\n                else\r\n                {\r\n                  return (\r\n                    <tr key={h.id}>\r\n                      <td>\r\n                        {h.unitcode}\r\n                      </td>\r\n                      <td>\r\n                        {h.field}\r\n                      </td>\r\n                      <td>\r\n                        {h.changed_from}\r\n                      </td>\r\n                      <td>\r\n                        {h.changed_to}\r\n                      </td>\r\n                      <td>\r\n                        {Format_DateTime(h.changed_on)}\r\n                      </td>\r\n                      <td>\r\n                        {h.changed_by}\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                }\r\n\r\n              })}\r\n          </tbody>\r\n        </table>\r\n\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default UnitHistoryList;","import React from 'react';\r\nimport AVLData from './AVLData';\r\nimport { Store } from './Store';\r\nimport { Format_DateTime } from './Utilities';\r\nimport ErrorInformation from './ErrorInformation';\r\nimport AVLUnitOptions from './AVLUnitOptions';\r\nimport UnitHistory from './UnitHistory';\r\nimport UnitHistoryList from './UnitHistoryList';\r\nimport { IAVLDataWithIndex } from './interfaces';\r\n\r\nconst AVL = (props:IAVLDataWithIndex) =>\r\n{\r\n  const { dispatch } = React.useContext(Store);\r\n\r\n  const fetchAVLData = async () =>\r\n  {\r\n    const data = await AVLData.Get();\r\n    return dispatch({ type: 'get_avl_data', payload: data });\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <tr>\r\n        <td>\r\n          {props.index + 1}\r\n        </td>\r\n        <td>\r\n          {props.device_id}\r\n        </td>\r\n        <td>\r\n          <span className=\"icon\">\r\n            <i className={`fas ${props.device_type === \"Phone Number\" ? \"fa-phone\" : \"fa-mobile-alt\"}`}></i>\r\n          </span>\r\n          \r\n        </td>\r\n        <td>\r\n          <span\r\n            title=\"Change this Device's unit\"\r\n            className=\"cursor_pointer has-text-link\"\r\n            onClick={event =>\r\n            {\r\n              dispatch({ type: 'avl_data_toggle_show_unit_options', payload: props.device_id });\r\n            }}>\r\n            {props.unitcode.length === 0 ? 'Add' : props.unitcode}\r\n          </span>\r\n        </td>\r\n        <td>\r\n          {Format_DateTime(props.updated_on)}\r\n        </td>\r\n        <td>\r\n          {Format_DateTime(props.location_timestamp)}\r\n        </td>\r\n        <td\r\n          style={{ paddingRight: \"1em\" }}\r\n          className=\"has-text-right\">\r\n          {\r\n            // show errors, history, delete\r\n          }\r\n          {props.error_information.length > 0 ? (\r\n            <span\r\n              title=\"View Errors\"\r\n              className=\"icon cursor_pointer has-text-warning\"\r\n              onClick={event =>\r\n              {\r\n                dispatch({ type: 'avl_data_toggle_show_errors', payload: props.device_id });\r\n              }\r\n              }>\r\n              <i className=\"fas fa-exclamation-circle\"></i>\r\n            </span>\r\n          ) : ''}\r\n\r\n          <span\r\n            title=\"View History\"\r\n            className=\"icon cursor_pointer has-text-link\"\r\n            style={{ marginLeft: \"1em\" }}\r\n            onClick={async event =>\r\n            {\r\n              event.preventDefault();\r\n\r\n              if (!props.device_history || props.device_history.length === 0)\r\n              {\r\n                let deviceHistory = await UnitHistory.GetByDeviceId(props.device_id);\r\n                dispatch({\r\n                  type: 'avl_device_history',\r\n                  payload: {\r\n                    device_id: props.device_id,\r\n                    device_history: deviceHistory\r\n                  }\r\n                });\r\n              }\r\n              else\r\n              {\r\n                dispatch({\r\n                  type: 'avl_device_history',\r\n                  payload: {\r\n                    device_id: props.device_id,\r\n                    device_history: []\r\n                  }\r\n                });\r\n              }\r\n            }}>\r\n            <i className=\"fas fa-history\"></i>\r\n          </span>\r\n\r\n          <span\r\n            title=\"Delete This Device\"\r\n            className=\"icon cursor_pointer has-text-danger\"\r\n            style={{ marginLeft: \"1em\" }}\r\n            onClick={async event =>\r\n            {\r\n              event.preventDefault();\r\n              const response = await AVLData.Delete(props.device_id);\r\n              if (response.ok)\r\n              {\r\n                fetchAVLData();\r\n              }\r\n              else\r\n              {\r\n                alert(\"There was a problem with deleting this record. Please contact MIS Development for more information.\");\r\n              }\r\n            }\r\n            }>\r\n            <i className=\"fas fa-trash-alt\"></i>\r\n          </span>\r\n\r\n\r\n        </td>\r\n      </tr>\r\n      <AVLUnitOptions\r\n        colspan={6}\r\n        new_unitcode=\"\"\r\n        fetch_avl_data = {fetchAVLData}\r\n        {...props} />\r\n      <ErrorInformation\r\n        colspan={6}\r\n        error_information={props.error_information}\r\n        show_errors={props.show_errors} />\r\n      <UnitHistoryList\r\n        colspan={6}\r\n        title=\"History By Device Id\"\r\n        history={props.device_history}\r\n      />\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default AVL;","import React from 'react';\r\nimport { Store } from './Store';\r\nimport AVLData from './AVLData';\r\nimport AVL from './AVL';\r\n\r\nconst AVLList: React.FC = () =>\r\n{\r\n  const { state, dispatch } = React.useContext(Store);\r\n\r\n  const fetchAVLData = async () =>\r\n  {\r\n    const data = await AVLData.Get();\r\n    return dispatch({ type: 'get_avl_data', payload: data });\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <div\r\n        style={{ padding: \"1em\", marginBottom: 0 }}\r\n        className=\"level\">\r\n        <div className=\"level-left\">\r\n          <div className=\"level-item is-size-3 has-text-weight-bold\">\r\n            AVL\r\n          </div>\r\n          <div className=\"level-item\">\r\n            <div className=\"field\">\r\n              <div className=\"control\">\r\n                <input\r\n                  title=\"Search for text in the Device Id and Unit fields.  Hit Enter to Search.\"\r\n                  type=\"text\"\r\n                  placeholder=\"Search\"\r\n                  onKeyDown={event =>\r\n                  {\r\n                    if (event.key === 'Enter')\r\n                    {\r\n                      event.preventDefault();\r\n                      event.stopPropagation();\r\n                      dispatch({\r\n                        type: \"search_avl_data\",\r\n                        payload: (event.target as HTMLInputElement).value\r\n                      })\r\n                    }\r\n\r\n                  }} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button\r\n              onClick={event =>\r\n              {\r\n                event.preventDefault();\r\n                fetchAVLData();\r\n              }}\r\n              title=\"Refresh the AVL Data\"\r\n              type=\"button\"\r\n              className=\"button is-success is-small\">\r\n              <span className=\"icon is-small\">\r\n                <i className=\"fas fa-sync-alt\"></i>\r\n              </span>\r\n            </button>\r\n            </div>\r\n        </div>\r\n        <div className=\"level-right\">\r\n          <p className=\"level-item has-text-weight-bold\">Error Filters</p>\r\n          <div className=\"level-item tabs\">\r\n            <ul>\r\n              <li className={`${state.avl_data_special_filter === '' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#NoFilter\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: '' }) }}>\r\n                  Show All\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'error' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#AllErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'error' }) }}>\r\n                  Errors Only\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'unit' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#UnitErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'unit' }) }}>\r\n                  Unit\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'date' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#DateErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'date' }) }}>\r\n                  Date\r\n                </a>\r\n              </li>\r\n              <li className={`${state.avl_data_special_filter === 'location' ? 'is-active' : ''}`}>\r\n                <a\r\n                  href=\"#LocationErrors\"\r\n                  onClick={event => { dispatch({ type: \"avl_data_special_filter\", payload: 'location' }) }}>\r\n                  Location\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <table className=\"table is-fullwidth\">\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              #\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDeviceId\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'device_id' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'device_id' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Device Id\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDeviceType\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'device_type' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'device_type' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Type\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByUnit\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'unitcode' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'unitcode' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Unit\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByDateSavedOn\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'updated_on' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'updated_on' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Data Saved On\r\n              </a>\r\n            </th>\r\n            <th>\r\n              <a\r\n                href=\"#SortByLocationDate\"\r\n                onClick={event =>\r\n                {\r\n                  event.preventDefault();\r\n                  dispatch({ type: 'avl_data_sort', payload: 'location_timestamp' });\r\n                }}\r\n                className={`${state.avl_data_sort_field !== 'location_timestamp' ? '' : state.avl_data_sort_ascending ? 'sort_ascending' : 'sort_descending'}`}>\r\n                Location On\r\n              </a>\r\n            </th>\r\n            <th className=\"has-text-centered\">\r\n              Options\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {state.filtered_avl_data.map((avl, index) =>\r\n          {\r\n            return (<AVL key={avl.device_id} index={index} {...avl} />);\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default AVLList;","import React, { useEffect, useRef } from 'react';\r\nimport { loadModules } from 'esri-loader';\r\n\r\nexport const WebMapView = () =>\r\n{\r\n  const mapRef = useRef(null);\r\n\r\n  useEffect(\r\n    () =>\r\n    {\r\n      // lazy load the required ArcGIS API for JavaScript modules and CSS\r\n      loadModules(['esri/Map', 'esri/views/MapView'], { css: true })\r\n        .then(([ArcGISMap, MapView]) =>\r\n        {\r\n          const map = new ArcGISMap({\r\n            basemap: 'osm'\r\n          });\r\n\r\n          // load the map view at the ref's DOM node\r\n          const view = new MapView({\r\n            container: mapRef.current,\r\n            map: map,\r\n            center: [-81.80, 29.950],\r\n            zoom: 11\r\n          });\r\n\r\n          return () =>\r\n          {\r\n            if (view)\r\n            {\r\n              // destroy the map view\r\n              view.container = null;\r\n            }\r\n          };\r\n        });\r\n    }\r\n  );\r\n\r\n  return <div className=\"webmap\" ref={mapRef} />;\r\n};","import React from 'react';\nimport Nav from './nav';\nimport { Store } from './Store';\nimport AVLData from './AVLData';\nimport AVLList from './AVLList';\nimport { WebMapView } from './WebMapView';\n//import './App.css';\n\nconst App: React.FC = () =>\r\n{\n  const { state, dispatch } = React.useContext(Store);\n\n  React.useEffect(() =>\r\n  {\n    state.avl_data.length === 0 && fetchAVLData()\r\n  }, []);\n\n  const fetchAVLData = async () =>\r\n  {\n    const data = await AVLData.Get();\r\n    return dispatch({ type: 'get_avl_data', payload: data });\r\n  }\n  \n  return (\n    <>\n      <Nav />\n      \n      <div className=\"columns main-container\">\n        <div          \n          style={{paddingRight: 0}}\n          className=\"column is-half left-side\">\n          <AVLList />\n        </div>\n\n        <div\n          style={{paddingLeft: 0}}\n          className=\"column is-half right-side\">\n          <WebMapView />\n        </div>\n\n      </div>\n\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport { StoreProvider } from './Store';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StoreProvider>\n    <App />\n  </StoreProvider>, document.getElementById('root'));\n\n\n"],"sourceRoot":""}