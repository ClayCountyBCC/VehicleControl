(this.webpackJsonpvehiclecontrol=this.webpackJsonpvehiclecontrol||[]).push([[0],{14:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(3),s=t.n(c),i=t(6),l=t(7),o={avl_data:[],fleetcomplete_data:[],cad_data:[],unit_data:[]},u=r.a.createContext(o);function d(e,a){switch(a.type){case"get_avl_data":return Object(l.a)({},e,{avl_data:a.payload});default:return e}}var v=t(1),m=t.n(v),p=function(){return r.a.createElement("nav",{className:"navbar is-primary",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("h1",{className:"navbar-item is-size-3"},"Vehicle Control")),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-start"}),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("p",{className:"navbar-item"},"Units"),r.a.createElement("p",{className:"navbar-item"},"AVL"),r.a.createElement("p",{className:"navbar-item"},"Fleet Complete"),r.a.createElement("p",{className:"navbar-item"},"CAD")))))},h=t(4),f=t(5),b="/vehiclecontrol";function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";0===e.length&&(e=b),console.log("using app path "+b);var a="/";return 0==window.location.pathname.toLowerCase().indexOf(e)&&(a=e+"/"),a}function w(e){var a;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(fetch(E()+e,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include"}));case 2:if((a=t.sent).ok){t.next=5;break}throw new Error(a.statusText);case 5:return t.next=7,m.a.awrap(a.json());case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}))}var _=function(){function e(){Object(h.a)(this,e),this.device_id="",this.device_type="",this.unitcode="",this.direction=0,this.location_timestamp=new Date,this.satellite_count=0,this.velocity=0,this.ip_address="",this.latitude=0,this.longitude=0,this.updated_on=new Date,this.error_information=[]}return Object(f.a)(e,null,[{key:"Get",value:function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(w("API/AVL/Get"));case 2:return e=a.sent,a.abrupt("return",e);case 4:case"end":return a.stop()}}))}}]),e}(),g=function(){var e=r.a.useContext(u),a=e.state,t=e.dispatch;r.a.useEffect((function(){0===a.avl_data.length&&n()}));var n=function(){var e;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m.a.awrap(_.Get());case 2:return e=a.sent,a.abrupt("return",t({type:"get_avl_data",payload:e}));case 4:case"end":return a.stop()}}))};return console.log("state: ",a),r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement("div",{className:"App"}))};s.a.render(r.a.createElement((function(e){var a=Object(n.useReducer)(d,o),t=Object(i.a)(a,2),c=t[0],s=t[1];return r.a.createElement(u.Provider,{value:{state:c,dispatch:s}},e.children)}),null,r.a.createElement(g,null)),document.getElementById("root"))},8:function(e,a,t){e.exports=t(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.a188c303.chunk.js.map