"use strict";function reducer(n,t){switch(t.type){case"get_avl":return Object.assign(Object.assign({},n),{avl_data:t.payload});default:return n}}var __awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__importStar=this&&this.__importStar||function(n){var t,i;if(n&&n.__esModule)return n;if(t={},n!=null)for(i in n)Object.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t["default"]=n,t},__importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}},Utilities;Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importStar(require("react")),react_dom_1=require("react-dom"),AppReducer_1=__importDefault(require("./AppReducer")),AppContext_1=__importDefault(require("./AppContext")),AVLData_1=__importDefault(require("./AVLData")),App=()=>{const i=react_1.useContext(AppContext_1.default),r=()=>__awaiter(void 0,void 0,void 0,function*(){const n=yield AVLData_1.default.Get();return t({type:"get_avl",payload:n})}),[n,t]=react_1.useReducer(AppReducer_1.default,i);return react_1.useEffect(()=>{n.avl_data.length===0&&r()},[]),react_1.default.createElement(AppContext_1.default.Provider,{value:{state:n,dispatch:t}},react_1.default.createElement("h1",null,"AVL Data"),react_1.default.createElement("section",null,n.avl_data.map(n=>react_1.default.createElement("div",{key:n.unitcode},n.unitcode))))};react_dom_1.render(react_1.default.createElement(App,null),document.getElementById("root"));__importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(exports,"__esModule",{value:!0});const react_1=__importDefault(require("react")),initialState={avl_data:[]},AppContext=react_1.default.createContext(initialState);exports.default=AppContext;Object.defineProperty(exports,"__esModule",{value:!0});exports.default=reducer;__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})};__importDefault=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(exports,"__esModule",{value:!0});const Utilities_1=__importDefault(require("./Utilities"));class AVLData{constructor(){this.device_id="";this.device_type="";this.unitcode="";this.direction=0;this.location_timestamp=new Date;this.satellite_count=0;this.velocity=0;this.ip_address="";this.latitude=0;this.longitude=0;this.updated_on=new Date;this.error_information=[]}Get(){return __awaiter(this,void 0,void 0,function*(){return yield Utilities_1.default.Get("API/AVL/Get")})}}exports.AVLData=AVLData;__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),function(n){function t(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("hide");n.classList.remove("show");n.classList.remove("show-inline");n.classList.remove("show-flex")}function r(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show");n.classList.remove("hide");n.classList.remove("show-inline");n.classList.remove("show-flex")}function c(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-inline");n.classList.remove("hide");n.classList.remove("show");n.classList.remove("show-flex")}function l(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-inline-flex");n.classList.remove("hide");n.classList.remove("show");n.classList.remove("show-flex")}function a(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-flex");n.classList.remove("hide");n.classList.remove("show-inline");n.classList.remove("show")}function o(n,u,f){if(typeof n=="string"&&(n=document.getElementById(n)),u){i(n);let r=document.createElement("div");r.classList.add("notification");r.classList.add("is-danger");let f=document.createElement("button");if(f.classList.add("delete"),f.onclick=()=>{t(n)},r.appendChild(f),Array.isArray(u)){let n=document.createElement("ul");u.forEach(t=>{let i=document.createElement("li");i.appendChild(document.createTextNode(t));n.appendChild(i)});r.appendChild(n)}else r.appendChild(document.createTextNode(u));n.appendChild(r)}r(n);(f==undefined||f===!0)&&window.setTimeout(function(){t(n)},3e4)}function v(n,t){i(n);n.appendChild(document.createTextNode(t))}function i(n){if(n!==null&&n!==undefined)while(n.firstChild)n.removeChild(n.firstChild)}function y(n,t,i=false){let r=document.createElement("option");return r.value=n,r.text=t,r.selected=i,r}function s(n){return typeof n=="string"&&(n=document.getElementById(n)),n.value}function p(n,t){typeof n=="string"&&(n=document.getElementById(n));n.value=t}function w(n,t){typeof n=="string"&&(n=document.getElementById(n));i(n);n.appendChild(document.createTextNode(t))}function b(n){let i=n.replace("nav-",""),t=document.querySelectorAll("#menuTabs > li > a");if(t.length>0)for(let i=0;i<t.length;i++){let r=t.item(i);r.id===n?r.parentElement.classList.add("is-active"):r.parentElement.classList.remove("is-active")}u("#views > section",i)}function k(n,t,i){h(n,"nav-"+i);u(t,i)}function h(n,t){let i=document.querySelectorAll(n);if(i.length>0)for(let n=0;n<i.length;n++){let r=i.item(n);r.id===t?r.classList.add("is-active"):r.classList.remove("is-active")}}function u(n,i){let u=document.querySelectorAll(n);if(u.length>0)for(let n=0;n<u.length;n++){let f=u.item(n);f.id===i?r(f):t(f)}}function f(n=""){n.length===0&&(n=e);console.log("using app path "+e);let t="/",i=window.location.pathname.toLowerCase().indexOf(n);return i==0&&(t=n+"/"),t}function d(n){return __awaiter(this,void 0,void 0,function*(){const t=yield fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include"});if(!t.ok)throw new Error(t.statusText);return yield t.text()})}function g(n){return __awaiter(this,void 0,void 0,function*(){const t=yield fetch(f()+n,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include"});if(!t.ok)throw new Error(t.statusText);return yield t.json()})}function nt(n,t){return __awaiter(this,void 0,void 0,function*(){const i=yield fetch(f()+n,{method:"POST",body:JSON.stringify(t),cache:"no-cache",headers:{"Content-Type":"application/json"},credentials:"include"});if(!i.ok)throw new Error(i.statusText);return i.json()})}function tt(n,t){return __awaiter(this,void 0,void 0,function*(){return yield fetch(n,{method:"POST",body:t!==null?JSON.stringify(t):"",cache:"no-cache",headers:{"Content-Type":"application/json"},credentials:"include"})})}function it(n){return n.toLocaleString("en-US",{style:"currency",currency:"USD"})}function rt(n){if(n instanceof Date)return n.toLocaleDateString("en-us");var t=new Date(n);return t.toLocaleDateString("en-US")}function ut(n){return n instanceof Date?n.toLocaleString("en-us"):new Date(n).toLocaleString("en-US")}function ft(n,t,i){typeof n=="string"&&(n=document.getElementById(n));let r=n;r.tagName.toLowerCase()==="select"?r.parentElement.classList.remove("is-danger"):r.classList.remove("is-danger");let u=s(r).trim();return u.length==0?(r.tagName.toLowerCase()==="select"?r.parentElement.classList.add("is-danger"):r.classList.add("is-danger"),o(t,i),r.focus(),r.scrollTo(),""):u}function et(n,t){typeof n=="string"&&(n=document.getElementById(n));let i=n;i.disabled=t;i.classList.toggle("is-loading",t)}function ot(n,t,i,r="",u=-1){n!=="td"&&n!=="th"&&(n="td");let f=document.createElement(n);return r.length>0&&(f.style.width=r),t.length>0&&f.appendChild(document.createTextNode(t)),i.length>0&&f.classList.add(i),u>-1&&(f.colSpan=u),f}const e="/vehiclecontrol";n.Hide=t;n.Show=r;n.Show_Inline=c;n.Show_Inline_Flex=l;n.Show_Flex=a;n.Error_Show=o;n.Simple_Error_Show=v;n.Clear_Element=i;n.Create_Option=y;n.Get_Value=s;n.Set_Value=p;n.Set_Text=w;n.Show_Menu=b;n.Handle_Tabs=k;n.Activate_Inactivate_Selector=h;n.Show_Hide_Selector=u;n.Get_Path=f;n.Get_Empty=d;n.Get=g;n.Post=nt;n.Post_Empty=tt;n.Format_Amount=it;n.Format_Date=rt;n.Format_DateTime=ut;n.Validate_Text=ft;n.Toggle_Loading_Button=et;n.CreateTableCell=ot}(Utilities||(Utilities={}));exports.default=Utilities;